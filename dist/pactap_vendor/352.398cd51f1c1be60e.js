"use strict";(self.webpackChunkpactap_vendor=self.webpackChunkpactap_vendor||[]).push([[352],{91352:(ho,C,u)=>{u.r(C),u.d(C,{QuotesModule:()=>lo});var m=u(96814),h=u(72253),c=u(64716),d=u(16676),t=u(99468),q=u(93851),_=u(29917),x=u(21355),v=u(50458),l=u(56223),b=u(64686);function F(o,s){1&o&&(t.TgZ(0,"span",58),t._UZ(1,"img",59),t.qZA())}function U(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",60)(2,"input",61),t.NdJ("ngModelChange",function(i){const a=t.CHM(e).$implicit;return t.KtG(a.show=i)})("change",function(i){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.hideShowCol(i,a))}),t.qZA(),t.TgZ(3,"label",62),t._uU(4),t.qZA()()()}if(2&o){const e=s.$implicit,n=s.index;t.xp6(2),t.MGl("id","col",n,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",n,""),t.xp6(1),t.hij(" ",e.column," ")}}function w(o,s){if(1&o&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e||null==e.adminProduct?null:e.adminProduct.productName,"")}}const D=function(){return["/quotes/detail"]},y=function(o){return{quoteId:o}};function I(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"span",71),t._uU(6),t.qZA()(),t.TgZ(7,"div",72)(8,"h1"),t._uU(9,"SC"),t.qZA(),t.TgZ(10,"div",73)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"h2"),t._uU(14),t.qZA()()(),t.TgZ(15,"div",74)(16,"h2"),t._uU(17),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA()(),t.TgZ(20,"div",75)(21,"div",76)(22,"h1"),t._uU(23,"Timeline:"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.ALo(26,"date"),t.qZA()(),t.TgZ(27,"div",77)(28,"a",78),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewQuoteTimeLine(r))}),t._uU(29,"View More"),t.qZA()()(),t.TgZ(30,"div",79)(31,"a",80),t._uU(32,"View"),t.qZA()()()()}if(2&o){const e=s.$implicit;t.xp6(4),t.hij("Quote ID: ",null==e?null:e.quoteId,""),t.xp6(2),t.Oqu(null==e?null:e.quoteStatus),t.xp6(6),t.hij("Customer ID: ",null==e||null==e.customerLogin?null:e.customerLogin.customerId,""),t.xp6(2),t.hij(" ",null==e||null==e.customer||null==e.customer.countryObj?null:e.customer.countryObj.name,""),t.xp6(3),t.hij("Product ID: ",null==e||null==e.product?null:e.product.productId,""),t.xp6(2),t.hij("Product Type: ",null==e||null==e.category?null:e.category.categoryName,""),t.xp6(6),t.hij("Quoted On: ",t.xi3(26,9,null==e?null:e.validUpto,"dd/MM/YYYY"),""),t.xp6(6),t.Q6J("routerLink",t.DdM(12,D))("queryParams",t.VKq(13,y,null==e?null:e._id))}}function k(o,s){1&o&&(t.TgZ(0,"div",81),t._uU(1,"Quotes not found"),t.qZA())}function S(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",64),t.NdJ("scrolled",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onScrollDown(i))}),t.TgZ(1,"div",43)(2,"div",65)(3,"div",22),t.YNc(4,I,33,15,"div",66),t.YNc(5,k,2,0,"div",67),t.qZA()()()()}if(2&o){const e=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300),t.xp6(4),t.Q6J("ngForOf",e.quotes),t.xp6(1),t.Q6J("ngIf",e.gridView&&(null==e.quotes?null:e.quotes.length)<1)}}const f=function(o){return{colHide:o}};function N(o,s){if(1&o&&(t.TgZ(0,"th",88),t._uU(1),t.qZA()),2&o){const e=s.$implicit,n=s.index,i=t.oxw(2);t.Tol("col"+n),t.Q6J("ngClass",t.VKq(4,f,!i.columns[n].show)),t.xp6(1),t.hij(" ",e.column,"")}}const A=function(o){return["/quotes/re-quote",o]};function J(o,s){if(1&o&&(t.TgZ(0,"a",100),t._uU(1,"Re-Quote"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,A,null==e?null:e._id))}}function Y(o,s){if(1&o&&(t.TgZ(0,"a",100),t._uU(1,"Re-Quote"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,A,null==e?null:e._id))}}function O(o,s){if(1&o&&(t.TgZ(0,"a",101),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.DdM(2,D))("queryParams",t.VKq(3,y,null==e?null:e._id))}}function L(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",89),t._uU(2),t.qZA(),t.TgZ(3,"td",90)(4,"a",91),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7),t.qZA(),t.TgZ(8,"td",92)(9,"a",91),t._uU(10),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA(),t.TgZ(13,"td",93),t._uU(14),t.ALo(15,"date"),t._UZ(16,"br"),t.TgZ(17,"a",78),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewQuoteTimeLine(r))}),t._uU(18," View More "),t.qZA()(),t.TgZ(19,"td",94),t._uU(20),t.qZA(),t.TgZ(21,"td",95)(22,"a",96),t._uU(23),t.qZA()(),t.TgZ(24,"td"),t.YNc(25,J,2,3,"a",97),t.YNc(26,Y,2,3,"a",98),t.YNc(27,O,2,5,"a",99),t.qZA()()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(23,f,!n.columns[0].show)),t.xp6(1),t.hij(" ",null==e?null:e.quoteId,""),t.xp6(1),t.Q6J("ngClass",t.VKq(25,f,!n.columns[1].show)),t.xp6(2),t.hij("ID:",null==e||null==e.customerLogin?null:e.customerLogin.customerId,""),t.xp6(2),t.hij("",null==e||null==e.customer||null==e.customer.countryObj?null:e.customer.countryObj.name," "),t.xp6(1),t.Q6J("ngClass",t.VKq(27,f,!n.columns[2].show)),t.xp6(2),t.hij("ID: ",null==e||null==e.customerProduct?null:e.customerProduct.customerProductId,""),t.xp6(2),t.hij(" Type: ",null==e||null==e.product?null:e.product.productName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(29,f,!n.columns[3].show)),t.xp6(1),t.hij(" Quoted On: ",t.xi3(15,20,null==e?null:e.createdAt,"dd/MM/YYYY")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(31,f,!n.columns[4].show)),t.xp6(1),t.lnq(" ",e.minMaxQuant.min||"-"," ",e.minMaxQuant.max?"to":""," ",e.minMaxQuant.max," "),t.xp6(1),t.Q6J("ngClass",t.VKq(33,f,!n.columns[5].show)),t.xp6(1),t.Q6J("ngClass","EXPIRED"===(null==e?null:e.quoteStatus)?"btn-danger":"btn-success"),t.xp6(1),t.hij(" ",null==e?null:e.quoteStatus," "),t.xp6(2),t.Q6J("ngIf","EXPIRED"===(null==e?null:e.quoteStatus)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today>(null==e?null:e.validUpto)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today<(null==e?null:e.validUpto))}}function V(o,s){1&o&&(t.TgZ(0,"div",81),t._uU(1," Quotes not found "),t.qZA())}function R(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",82)(1,"div",83)(2,"div",84)(3,"div",85),t.NdJ("scrolled",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onScrollDown(i))}),t.TgZ(4,"table",55)(5,"thead")(6,"tr"),t.YNc(7,N,2,6,"th",86),t.TgZ(8,"th"),t._uU(9,"\xa0"),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,L,28,35,"tr",87),t.qZA()(),t.YNc(12,V,2,0,"div",67),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(4),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.quotes),t.xp6(1),t.Q6J("ngIf",!e.gridView&&(null==e.quotes?null:e.quotes.length)<1)}}const M=function(o){return{"fa-spin fa-spinner":o}},P=function(o){return{selected:o}};let E=(()=>{class o{constructor(e,n,i,r){this.QS=e,this.ngxService=n,this.PS=i,this._notifier=r,this.gridView=!1,this.productId="",this.searchKey="",this.status="",this.isLoading=!1,this.columns=[{column:"Quote ID",show:!0,key:"quoteId"},{column:"Customer Details",show:!0,key:"customer.companyName"},{column:"Product Details",show:!0,key:"product.productName"},{column:"Timeline",show:!0,key:"createdAt"},{column:"Quantity",show:!0,key:"quantity"},{column:"Status",show:!0,key:"quoteStatus"}],this.page=1,this.contentPerPage=10,this.totalPage=0}ngOnInit(){this.getQuoteList(),this.today=d().valueOf(),this.getProducts()}searchLeads(e){this.searchKey=e.target.value,this.page=1,this.getQuoteList()}hideShowCol(e,n){n&&2!==n&&5!==n?e.target.checked?$(`.col${n}`).removeClass("colHide"):$(`.col${n}`).addClass("colHide"):(this.columns[n].show=!0,$(`#col${n}`).prop("checked",!0))}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns));e.map((i,r,a)=>{"Customer Details"===i.column&&i.show&&"Customer ID"!==a[r-1].column&&a.splice(r,0,{column:"Customer ID",show:!0,key:"customerLogin.customerId"}),"Timeline"===i.column&&i.show&&"Quoted On"!==a[r-1].column&&a.splice(r,1,{column:"Quoted On",show:!0,key:"quotedAt"}),"Quantity"===i.column&&i.show&&"Minimum Quantity"!==a[r-1].column&&a.splice(r,1,{column:"Minimum Quantity",show:!0,key:"minQuantity"},{column:"Maximum Quantity",show:!0,key:"maxQuantity"}),"Product Detail"===i.column&&i.show&&"Category Name"!==a[r-1].column&&a.splice(r,0,{column:"Product ID",show:!0,key:"product.productId"},{column:"Category Name",show:!0,key:"category.categoryName"})}),this.QS.exportQuoteDetails({searchKey:this.searchKey,productId:this.productId,startDate:this.fromDate||"",endDate:this.toDate||"",isExcelDownload:!0,quoteStatus:this.status,columnPermission:e}).subscribe(i=>{this.isLoading=!1;const r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(r),p=document.createElement("a");p.href=a,p.download="quotes.xlsx",p.click(),window.URL.revokeObjectURL(a),p.remove(),this._notifier.showSuccess("File downloaded successfully","Success")},i=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerLeads").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0,endDate:d().endOf("day").format("DD-MM-YYYY")}).on("datepicker-change",(e,n)=>{this.fromDate=d(n.date1).valueOf(),this.toDate=d(n.date2).valueOf(),this.page=1,this.getQuoteList()})}openCalendar(e){e.stopPropagation(),$(".daterangePickerLeads").data("dateRangePicker").open()}getProducts(){this.ngxService.start(),this.PS.getProducts().pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.myProducts=e?.meta?.status?e.data:[]})}toTimeStamp(e){return Date.parse(e)/1e3}filterByProduct(e){this.productId=e?.target?.value,this.page=1,this.getQuoteList()}filterByStatus(e){this.page=1,this.status=e?.target?.value,this.getQuoteList()}addQueryParams(){return{searchKey:this.searchKey,productId:this.productId,startDate:this.fromDate,endDate:this.toDate,quoteStatus:this.status}}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getQuoteList(!0))}getQuoteList(e){this.ngxService.start(),this.QS.quoteList(this.page,this.contentPerPage,this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n?.meta?.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(n.metadata[0].total/this.contentPerPage),this.quotes=e?[...this.quotes,...n.data]:n.data,this.quotes.map(i=>{let r=this.findMinMax(i.quotation,"quantity"),a=this.findMinMax(i.quotation,"totalPrice");i.minMaxQuant=r,i.minMaxPrice=a})):this.quotes=e?this.quotes:[]})}findMinMax(e,n){const{min:i,max:r}=e.reduce((a,p)=>({min:Math.min(a.min,p[n]),max:Math.max(a.max,p[n])}),{min:1/0,max:-1/0});return{min:i,max:r}}viewQuoteTimeLine(e){this.quoteDetail=e,$("#quotesId").modal("show")}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(q.P),t.Y36(_.LA),t.Y36(x.s),t.Y36(v.c))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotes"]],decls:100,vars:30,consts:[[1,"dashboardMain"],[1,"page-header","product-page-header","d-flex","justify-content-between"],[1,"rightColumnDrop"],[1,"main_btn"],["type","button",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","formIcons",4,"ngIf"],[1,"viewMode"],[1,"view"],["data-view","grid-view",1,"selected","fa","fa-list",3,"ngClass","click"],["data-view","list-view",1,"fa","fa-th",3,"ngClass","click"],[1,"column-btns","d-flex","align-items-center","justify-content-end"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png",1,"me-2"],["aria-labelledby","dropdownMenuButton1","checked","",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-12"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-2"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","border-0",3,"keyup"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-3","col-sm-6","col-lg-2"],[1,"form-control",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-2","col-sm-2"],["value","QUOTED"],["value","ARCHIVED"],["value","EXPIRED"],[1,"col-12","col-md-4","col-lg-4","col-sm-4"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerLeads"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"leadMain","quotesMain"],["class","row","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","prod grid-view",4,"ngIf"],["id","quotesId",1,"modal","fade","previousQuotes"],[1,"modal-dialog","modal-dialog-centered","modal-md","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"pop-table","quotesId"],[1,"table-row","table-responsive","fix-headertbl","request_sample"],["width","100%","cellspacing","0",1,"table","table-bordered"],[1,"fw500"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"formIcons"],["src","assets/images/download.png"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"itemList"],["class","col-12 col-sm-4 col-md-4 col-lg-4",4,"ngFor","ngForOf"],["class","col-100 my-3 text-center",4,"ngIf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotesBox"],[1,"qouteId"],[1,"btn","btn-sm","btn-success"],[1,"leadsCustomer"],[1,"customerDetails"],[1,"quotesPro"],[1,"timeLineMain"],[1,"timeLine"],[1,"viewMore"],["href","javascript:void(0)",3,"click"],[1,"main_btn","text-center","mt-3"],[1,"btn","btn-success",3,"routerLink","queryParams"],[1,"col-100","my-3","text-center"],[1,"prod","grid-view"],[1,"item","first"],[1,"leadsDetails"],["infiniteScroll","",1,"table-row","table-responsive","fix-headertbl","request_sample",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"ngClass","class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],["href","javascript:void(0)"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[1,"col4",3,"ngClass"],[1,"col5",3,"ngClass"],["href","javascript:void(0)",1,"btn","underline-none",3,"ngClass"],["class","text-success w-70 d-inline-block  underline-none viewText mr-1","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","text-success  w-70 d-inline-block underline-none viewText mr-1","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","text-success underline-none viewText mr-1",3,"routerLink","queryParams",4,"ngIf"],["href","javascript:void(0)",1,"text-success","w-70","d-inline-block","underline-none","viewText","mr-1",3,"routerLink"],[1,"text-success","underline-none","viewText","mr-1",3,"routerLink","queryParams"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"My Quotes"),t.qZA(),t.TgZ(4,"span")(5,"div",2)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return i.exportDetails()}),t._UZ(8,"i",5),t._uU(9," Export Details"),t.qZA(),t.YNc(10,F,2,0,"span",6),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"i",9),t.NdJ("click",function(){return i.gridView=!1}),t.qZA(),t.TgZ(14,"i",10),t.NdJ("click",function(){return i.gridView=!0}),t.qZA()()(),t.TgZ(15,"div",11)(16,"div",12)(17,"button",13),t._UZ(18,"img",14),t._uU(19," Manage Column "),t.qZA(),t.TgZ(20,"div",15)(21,"div",16),t.YNc(22,U,5,4,"div",17),t.qZA()()()()()()(),t.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"div",25)(31,"input",26),t.NdJ("keyup",function(a){return i.searchLeads(a)}),t.qZA(),t.TgZ(32,"div",27)(33,"button",28),t._UZ(34,"i",29),t.qZA()()()()(),t.TgZ(35,"div",30)(36,"div",24)(37,"select",31),t.NdJ("change",function(a){return i.filterByProduct(a)}),t.TgZ(38,"option",32),t._uU(39,"Product"),t.qZA(),t.YNc(40,w,2,2,"option",33),t.qZA()()(),t.TgZ(41,"div",34)(42,"div",24)(43,"select",31),t.NdJ("change",function(a){return i.filterByStatus(a)}),t.TgZ(44,"option",32),t._uU(45,"Quote Status"),t.qZA(),t.TgZ(46,"option",35),t._uU(47,"Quoted"),t.qZA(),t.TgZ(48,"option",36),t._uU(49,"Archived"),t.qZA(),t.TgZ(50,"option",37),t._uU(51,"Expired"),t.qZA()()()(),t.TgZ(52,"div",38)(53,"div",39),t._UZ(54,"input",40),t.TgZ(55,"span",41),t.NdJ("click",function(a){return i.openCalendar(a)}),t._UZ(56,"i",42),t.qZA()()()()()(),t.TgZ(57,"div",43)(58,"div",44),t.YNc(59,S,6,4,"div",45),t.YNc(60,R,13,6,"div",46),t.qZA()()()()(),t.TgZ(61,"div",47)(62,"div",48)(63,"div",49)(64,"div",50)(65,"div",51)(66,"h1"),t._uU(67),t.TgZ(68,"span"),t._uU(69),t.qZA()(),t._UZ(70,"button",52),t.qZA(),t.TgZ(71,"div",53)(72,"div",54)(73,"table",55)(74,"thead")(75,"tr")(76,"th"),t._uU(77,"Timeline "),t.qZA(),t.TgZ(78,"th"),t._uU(79," Date "),t.qZA()()(),t.TgZ(80,"tbody")(81,"tr")(82,"td",56),t._uU(83,"Quote Requested on"),t.qZA(),t.TgZ(84,"td"),t._uU(85),t.ALo(86,"date"),t.qZA()(),t.TgZ(87,"tr")(88,"td",56),t._uU(89,"Quote Created on "),t.qZA(),t.TgZ(90,"td"),t._uU(91),t.ALo(92,"date"),t.qZA()(),t.TgZ(93,"tr")(94,"td",56),t._uU(95,"Quote Valid upto "),t.qZA(),t.TgZ(96,"td"),t._uU(97),t.ALo(98,"date"),t.qZA()()()()()()()()()(),t._UZ(99,"ngx-ui-loader",57)),2&n&&(t.xp6(7),t.Q6J("disabled",i.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(24,M,i.isLoading)),t.xp6(2),t.Q6J("ngIf",!i.isLoading),t.xp6(3),t.Q6J("ngClass",t.VKq(26,P,!i.gridView)),t.xp6(1),t.Q6J("ngClass",t.VKq(28,P,i.gridView)),t.xp6(8),t.Q6J("ngForOf",i.columns),t.xp6(18),t.Q6J("ngForOf",i.myProducts),t.xp6(19),t.Q6J("ngIf",i.gridView),t.xp6(1),t.Q6J("ngIf",!i.gridView),t.xp6(7),t.hij("Quote ID: ",null==i.quoteDetail?null:i.quoteDetail.quoteId," "),t.xp6(2),t.hij("Converted to order ID: ",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productId,""),t.xp6(16),t.Oqu(t.xi3(86,15,null==i.quoteDetail?null:i.quoteDetail.quoteRequestedDate,"dd MMMM YYYY")),t.xp6(6),t.Oqu(t.xi3(92,18,null==i.quoteDetail?null:i.quoteDetail.createdAt,"dd MMMM YYYY")),t.xp6(6),t.Oqu(t.xi3(98,21,null==i.quoteDetail?null:i.quoteDetail.validUpto,"dd MMMM YYYY")),t.xp6(2),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,h.rH,m.mk,m.sg,m.O5,l.YN,l.Kr,l.Wl,l.JJ,l.On,b.Ry,m.uU],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();var Q=u(15861),j=u(69862),W=u(63049),B=u(61379),K=u(6530),G=u(4213),T=u(48983);function H(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",null==e.leadDraft||null==e.leadDraft.customer?null:e.leadDraft.customer.companyName,",")}}function X(o,s){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.AsE(", Customer Name: ",null==e.lead||null==e.lead.customerLogin?null:e.lead.customerLogin.firstName," ",null==e.lead||null==e.lead.customerLogin?null:e.lead.customerLogin.lastName,"")}}function z(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function tt(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function et(o,s){1&o&&(t.TgZ(0,"td")(1,"div",90)(2,"div",20)(3,"div",91)(4,"label",92),t._uU(5,"Lower Limit"),t.qZA(),t.TgZ(6,"div",9),t._UZ(7,"input",93),t.TgZ(8,"span"),t._uU(9,"%"),t.qZA()()(),t.TgZ(10,"div",91)(11,"label",94),t._uU(12,"Upper Limit"),t.qZA(),t.TgZ(13,"div",9),t._UZ(14,"input",95),t.TgZ(15,"span"),t._uU(16,"%"),t.qZA()()()()()())}function ot(o,s){1&o&&(t.TgZ(0,"td",96),t._uU(1," ---- "),t.qZA())}function it(o,s){if(1&o&&(t.TgZ(0,"tr",26)(1,"td"),t._UZ(2,"input",87),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",88),t.qZA(),t.YNc(5,et,17,0,"td",8),t.YNc(6,ot,2,0,"td",89),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(5),t.Q6J("ngIf",e.value.hasOwnProperty("lowerTolerance")),t.xp6(1),t.Q6J("ngIf",!e.value.hasOwnProperty("lowerTolerance"))}}const nt=function(o){return{active:o}};function st(o,s){if(1&o&&(t.TgZ(0,"div",97),t._UZ(1,"img",98),t.qZA()),2&o){const e=s.$implicit;t.Q6J("ngClass",t.VKq(2,nt,0===s.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function rt(o,s){1&o&&(t.TgZ(0,"div",99)(1,"button",100),t._UZ(2,"span",101),t.TgZ(3,"span",102),t._uU(4,"Previous"),t.qZA()(),t.TgZ(5,"button",103),t._UZ(6,"span",104),t.TgZ(7,"span",102),t._uU(8,"Next"),t.qZA()()())}function at(o,s){if(1&o&&t._UZ(0,"img",116),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function lt(o,s){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ut(o,s){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ct(o,s){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function dt(o,s){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function pt(o,s){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function mt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",108)(1,"span"),t.YNc(2,at,1,2,"img",109),t.YNc(3,lt,1,1,"img",110),t.YNc(4,ut,1,1,"img",111),t.YNc(5,ct,1,1,"img",112),t.YNc(6,dt,1,1,"img",113),t.YNc(7,pt,1,1,"img",114),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.qZA(),t.TgZ(10,"div",38)(11,"a",39),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(12,"Download "),t._UZ(13,"img",115),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function gt(o,s){if(1&o&&(t.TgZ(0,"div",105)(1,"h1"),t._uU(2,"Artwork:"),t.qZA(),t.TgZ(3,"div",106),t.YNc(4,mt,14,7,"div",107),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.productArtworks)}}function ht(o,s){if(1&o&&t._UZ(0,"img",116),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function _t(o,s){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ft(o,s){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function qt(o,s){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function vt(o,s){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Tt(o,s){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Zt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",108)(1,"span"),t.YNc(2,ht,1,2,"img",109),t.YNc(3,_t,1,1,"img",110),t.YNc(4,ft,1,1,"img",111),t.YNc(5,qt,1,1,"img",112),t.YNc(6,vt,1,1,"img",113),t.YNc(7,Tt,1,1,"img",114),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.qZA(),t.TgZ(10,"div",38)(11,"a",39),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(12,"Download "),t._UZ(13,"img",122),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ct(o,s){if(1&o&&(t.TgZ(0,"div",105)(1,"h1"),t._uU(2,"Additional Attachments:"),t.qZA(),t.TgZ(3,"div",106),t.YNc(4,Zt,14,7,"div",107),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.productAttachments)}}function xt(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e," ")}}function bt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Shipping term is required. "),t.qZA())}function Dt(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,bt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.quotationsFormGroupControls.shippingTerms.errors.required)}}const g=function(o){return{"is-invalid":o}};function yt(o,s){if(1&o&&(t.TgZ(0,"div",56)(1,"div",9)(2,"label"),t._uU(3," Shipping Terms"),t.qZA(),t.TgZ(4,"select",123)(5,"option",124),t._uU(6,"Select Shipping Term"),t.qZA(),t.YNc(7,xt,2,2,"option",12),t.qZA(),t.YNc(8,Dt,2,1,"div",59),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(3,g,e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)),t.xp6(3),t.Q6J("ngForOf",e.shippingTermsList),t.xp6(1),t.Q6J("ngIf",e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)}}function At(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",126)(1,"div",50),t._UZ(2,"input",127),t.qZA(),t.TgZ(3,"div",128)(4,"div",129),t._uU(5," \xb1 "),t._UZ(6,"input",130),t._uU(7," % "),t.qZA(),t.TgZ(8,"div",51),t._UZ(9,"input",131),t.qZA(),t.TgZ(10,"div",51)(11,"div",73)(12,"span",132),t._uU(13),t.qZA(),t.TgZ(14,"input",133),t.NdJ("keyup",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.changePrice(r))}),t.qZA()()(),t.TgZ(15,"div",51)(16,"div",73)(17,"span",132),t._uU(18),t.qZA(),t._UZ(19,"input",134),t.qZA()(),t.TgZ(20,"div",51),t._UZ(21,"input",135),t.qZA(),t.TgZ(22,"div",51),t._UZ(23,"input",136),t.qZA(),t.TgZ(24,"div",51),t._UZ(25,"input",137),t.qZA()()()}if(2&o){const e=s.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(13),t.Oqu(null==n.leadDraft?null:n.leadDraft.currency),t.xp6(5),t.Oqu(null==n.leadDraft?null:n.leadDraft.currency)}}function Pt(o,s){if(1&o&&(t.TgZ(0,"h6"),t._uU(1),t.TgZ(2,"span"),t._uU(3,"Notified by Customer"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij("Case Pack: ",null==e.leadDraft||null==e.leadDraft.customerProducts||null==e.leadDraft.customerProducts.productForm?null:e.leadDraft.customerProducts.productForm.casePack," ")}}function Qt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Case Pack is required. "),t.qZA())}function Ft(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Qt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.casePack.errors.required)}}function Ut(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",9)(2,"label"),t._uU(3," Case Pack"),t.qZA(),t.TgZ(4,"input",138),t.NdJ("keyup",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.changeCasepack(i))}),t.qZA(),t.YNc(5,Ft,2,1,"div",59),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.casePack.errors)),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.casePack.errors)}}function wt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Valid Upto date is required. "),t.qZA())}function It(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,wt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.validUpto.errors.required)}}function kt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Length is required. "),t.qZA())}function St(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,kt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.length.errors.required)}}function Nt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Breadth is required. "),t.qZA())}function Jt(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Nt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.breadth.errors.required)}}function Yt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Height is required. "),t.qZA())}function Ot(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Yt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.height.errors.required)}}function Lt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Gross weight is required. "),t.qZA())}function Vt(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,Lt,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.grossWeight.errors.required)}}function Rt(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Shipping Address "),t.qZA())}function Mt(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port"),t.qZA())}function Et(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port"),t.qZA())}function jt(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Wt(o,s){if(1&o&&(t.TgZ(0,"select",142)(1,"option",124),t._uU(2,"Select"),t.qZA(),t.YNc(3,jt,3,4,"option",12),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.nearestPortArr)}}function Bt(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function $t(o,s){if(1&o&&(t.TgZ(0,"select",142)(1,"option",124),t._uU(2,"Select"),t.qZA(),t.YNc(3,Bt,3,4,"option",12),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.cifShippingPorts)}}function Kt(o,s){if(1&o&&(t.TgZ(0,"option",86),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e._id),t.xp6(1),t.HOy(" ",e.name,", ",null==e?null:e.addressLine1,", ",null==e?null:e.addressLine2,", ",null==e?null:e.cityName," ")}}function Gt(o,s){if(1&o&&(t.TgZ(0,"select",142)(1,"option",124),t._uU(2,"Select"),t.qZA(),t.YNc(3,Kt,2,5,"option",12),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.addresses)}}function Ht(o,s){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function Xt(o,s){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function zt(o,s){1&o&&(t.ynx(0),t._uU(1," Shipping address "),t.BQk())}function te(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ht,2,0,"ng-container",8),t.YNc(2,Xt,2,0,"ng-container",8),t.YNc(3,zt,2,0,"ng-container",8),t._uU(4," is required. "),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms)}}function ee(o,s){if(1&o&&(t.TgZ(0,"div",143),t.YNc(1,te,5,3,"div",8),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.shippingAddress.errors.required)}}function oe(o,s){if(1&o&&(t.TgZ(0,"div",139)(1,"div",9),t.YNc(2,Rt,2,0,"label",8),t.YNc(3,Mt,2,0,"label",8),t.YNc(4,Et,2,0,"label",8),t.YNc(5,Wt,4,4,"select",140),t.YNc(6,$t,4,4,"select",140),t.YNc(7,Gt,4,4,"select",140),t.YNc(8,ee,2,1,"div",141),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)}}function ie(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," PPS Quantity is required. "),t.qZA())}function ne(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,ie,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleQuantity.errors.required)}}function se(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Production Lead Time is required. "),t.qZA())}function re(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,se,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleProductionLeadTime.errors.required)}}function ae(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Grand Total Price "),t.qZA())}function le(o,s){if(1&o&&(t.TgZ(0,"div",125),t.YNc(1,ae,2,0,"div",8),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleTotalPrice.errors.required)}}function ue(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",53)(1,"div",54)(2,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submitPpsForm())}),t._uU(3," Save"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.hasPpsChanges)}}function ce(o,s){if(1&o&&(t.TgZ(0,"option",153),t._uU(1),t.qZA()),2&o){const e=s.$implicit,n=t.oxw(2);t.s9C("value",e),t.Q6J("disabled",n.isSelected(e)),t.xp6(1),t.hij(" ",e," ")}}function de(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",154),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,r=t.oxw();return t.KtG(r.removeOneTimeCost(i))}),t._UZ(1,"i",155),t.qZA()}}function pe(o,s){1&o&&t._UZ(0,"a",156)}function me(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",157),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addItem())}),t._UZ(1,"i",158),t.qZA()}}function ge(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",144)(1,"div",68)(2,"div",9)(3,"select",145)(4,"option",124),t._uU(5,"Select Cost"),t.qZA(),t.YNc(6,ce,2,3,"option",146),t.qZA()()(),t.TgZ(7,"div",68)(8,"div",9)(9,"div",73)(10,"span",74),t._uU(11),t.qZA(),t.TgZ(12,"input",147),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.totalOneTimeCost())}),t.qZA()()()(),t.TgZ(13,"div",148)(14,"div",9)(15,"div",149),t.YNc(16,de,2,0,"a",150),t.YNc(17,pe,1,0,"a",151),t.YNc(18,me,2,0,"a",152),t.qZA()()()()}if(2&o){const e=s.$implicit,n=s.last,i=t.oxw();t.Q6J("formGroup",i.getFormGroup(e)),t.xp6(6),t.Q6J("ngForOf",i.costsList),t.xp6(5),t.Oqu(null==i.leadDraft?null:i.leadDraft.currency),t.xp6(5),t.Q6J("ngIf",i.oneTimeCostFormControls.controls.length>1),t.xp6(1),t.Q6J("ngIf",!n),t.xp6(1),t.Q6J("ngIf",n)}}const Z=function(o){return{"fa-spin fa-spinner":o}};let he=(()=>{class o{constructor(e,n,i,r,a,p,uo,co,po,mo,go){this.routes=e,this.PS=n,this.QS=i,this.ngxService=r,this._notify=a,this.FB=p,this.LS=uo,this.route=co,this.FS=po,this._US=mo,this.WS=go,this.currentDate=d().format("YYYY-MM-DD"),this.factoryWarehouseSelectedId=null,this.factoryWarehouseSelectedType="",this.selectedLeadId="",this.selectedProductId="",this.packagingFormSubmittied=!1,this.ppsFormSubmittied=!1,this.quotationFormSubmittied=!1,this.toleranceFormSubmittied=!1,this.isLoading=!1,this.totalOneTimeCostNum=0,this.fields=[],this.moment=d(),this.selectedImage=0,this.hasToleranceChanges=!1,this.hasQuoteChanges=!1,this.hasPpsChanges=!1,this.hasOneTimeChanges=!1,this.hasPackagingChanges=!1,this.nearestPortArr=[],this.isPackageLoading=!1,this.isLoadingQuote=!1,this.isLoadingTolerance=!1,this.productArtworks=[],this.productAttachments=[],this.isCasePackNotfied=!1,this.checkppsformdisabled=!1,this.isToleranceDraft=!1,this.isOneTimeCostDraft=!1,this.isQuotationDraft=!1,this.packagingDraft=!1,this.isPpsDraft=!1,this.cifShippingPorts=[],this.addresses=[]}ngOnInit(){this.initForm(),this.routes.params.subscribe(e=>{e&&e.id&&(this.quoteId=e.id,this.getRequoteDetails())}),this._US.getUser().subscribe(e=>{this.currentVendor=e.user,this.shippingTermString=this.currentVendor.ownVendor?"":"FOB",this.currentVendor.ownVendor||this.quotationsForm.get("shippingTerms")?.setValue("FOB")}),this.oneTimeCost(),this.shippingTerm(),this.getFactoryList(),this.getWarehouseList()}ngAfterViewInit(){this.quotationsForm.valueChanges.subscribe(e=>{e.shippingTerms&&(this.shippingTermString=e.shippingTerms,"Ex-Factory"!==e.shippingTerms?this.packagingForm.addControl("shippingAddress",new l.NI("",l.kI.required)):this.packagingForm.removeControl("shippingAddress"),"Ex-Factory"!==e.shippingTerms&&this.packagingForm.get("shippingAddress")?.reset(this.lead?.shippingAddress?this.lead?.shippingAddress:"")),this.hasQuoteChanges=!this.areValuesEqual(this.quotationsForm.value,this.previousQuoteFormValue)})}changeOfFactoryWarehouse(e){this.factoryWarehouseSelectedId=e?.target?.value;let n=this.factoryList.find(r=>r?._id===e?.target?.value),i=this.warehouseList.find(r=>r?._id===e?.target?.value);this.nearestPortArr=[],n&&(this.nearestPortArr.push(n.nearestPort),this.factoryWarehouseSelectedType="factory"),i&&(this.nearestPortArr.push(i.nearestPort),this.factoryWarehouseSelectedType="warehouse")}addQueryParams(){return new j.LE}getFactoryList(){this.ngxService.start(),this.FS.factoryList(this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.factoryList=e?.meta?.status?e.data:[]})}areValuesEqual(e,n){return JSON.stringify(e)===JSON.stringify(n)}getWarehouseList(){this.ngxService.start(),this.WS.warehouseList(this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.warehouseList=e?.meta?.status?e.data:[]})}initForm(){this.ppsForm=this.FB.group({prePurchaseSampleQuantity:[{value:"",disabled:!0},l.kI.required],prePurchaseSampleProductionLeadTime:["",l.kI.required],prePurchaseSampleTotalPrice:["",l.kI.required]}),this.packagingForm=this.FB.group({casePack:["",l.kI.required],validUpto:["",l.kI.required],length:[0,l.kI.required],breadth:[0,l.kI.required],height:[0,l.kI.required],grossWeight:["",l.kI.required],shippingAddress:["",l.kI.required]}),this.oneTimeCostForm=this.FB.group({costsArray:new l.Oe([])}),this.quotationsForm=this.FB.group({shippingTerms:["",l.kI.required],quotationsArray:new l.Oe([])}),this.toleranceForm=this.FB.group({toleranceArray:new l.Oe([])}),this.toleranceForm.valueChanges.subscribe(e=>{this.hasToleranceChanges=!this.areValuesEqual(this.toleranceForm.value,this.previousToleranceFormValue)}),this.ppsForm.valueChanges.subscribe(e=>{const n=this.ppsForm.value;this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired&&(this.hasPpsChanges=!this.areValuesEqual(n,this.previousPpsFormValue))}),this.oneTimeCostForm.valueChanges.subscribe(e=>{this.hasOneTimeChanges=!this.areValuesEqual(this.oneTimeCostForm.value,this.previousOneTimeFormValue)}),this.packagingForm.valueChanges.subscribe(e=>{this.hasPackagingChanges=!this.areValuesEqual(this.packagingForm.value,this.previousPackagingFormValue)})}get ppsFormControls(){return this.ppsForm.controls}get packagingFormControls(){return this.packagingForm.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}get quotationsFormControls(){return this.quotationsForm.controls.quotationsArray}get quotationsFormGroupControls(){return this.packagingForm.controls}get toleranceFormControls(){return this.toleranceForm.controls.toleranceArray}addTolerance(e,n,i){this.toleranceFormControls.push(this.tolegranceItem(e,n,i))}addQuotation(e,n){this.quotationsFormControls.push(this.quotationItem(e,n))}tolegranceItem(e,n,i){return this.FB.group(n?{name:e?.name,measurement:e?.measurement,...e.upperTolerance&&{upperTolerance:[e?.upperTolerance,l.kI.required],lowerTolerance:[e?.lowerTolerance,l.kI.required]},...e.upperTolerance&&{unit:[e?.unit,l.kI.required]}}:{name:e?.label,measurement:this.findValue(e.key),...e.isTolerance&&{upperTolerance:[i.upperLimit,l.kI.required],lowerTolerance:[i.lowerLimt,l.kI.required]},...e.isTolerance&&{unit:[i?.unit,l.kI.required]}})}findValue(e){return"object"==typeof this.lead?.customerProducts?.productForm[e]?`${this.lead?.customerProducts?.productForm[e].value} ${this.lead?.customerProducts?.productForm[e].unit}`:this.lead?.customerProducts?.productForm[e]}quotationItem(e,n){return this.FB.group({quantity:n?e?.quantity:e,quantityTolerance:n?e?.quantityTolerance:e,productionleadTime:n?e?.productionleadTime:"",pricePerPiece:n?e?.pricePerPiece:"",totalPrice:[{value:n?e?.totalPrice:"",disabled:!0}],totalCbm:[{value:n?e?.totalCbm:"",disabled:!0}],totalCartons:[{value:n?e?.totalCartons:"Carton"===this.lead?.customerProducts?.quantityType?e:0,disabled:!0}],totalWeight:[{value:n?e?.totalWeight:"",disabled:!0}]})}createItem(e){return this.FB.group({name:e?e?.name:"",cost:e?e?.cost:""})}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e),this.totalOneTimeCost()}changePrice(e){e.get("totalPrice")?.setValue(Number(e.value.pricePerPiece)*e.value.quantity)}changeCasepack(e){this.quotationsFormControls.controls.map(i=>{"CARTON"===this.lead?.customerProducts?.quantityType.toUpperCase()||i.get("totalCartons")?.setValue((e.target.value?i.value.quantity/Number(e.target.value):0).toFixed())})}changeWeight(e){this.quotationsFormControls.controls.map(n=>{n.get("totalWeight")?.setValue((n.getRawValue().totalCartons*Number(e.target.value)).toFixed())})}changeLbh(e){this.quotationsFormControls.controls.map(n=>{let i=Number(n.get("totalCartons")?.value);Number(this.packagingForm.get("length")?.value)&&Number(this.packagingForm.get("breadth")?.value)&&Number(this.packagingForm.get("height")?.value)&&n.get("totalCbm")?.setValue(Number(this.packagingForm.get("length")?.value||0)*Number(this.packagingForm.get("breadth")?.value||0)*Number(this.packagingForm.get("height")?.value||0)*16387064e-12*i)})}oneTimeCost(){this.ngxService.start(),this.QS.getAppConfigByKey("ONE_TIME_COST").pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.costsList=e.data.value.split("|").map(n=>n.trim()):this._notify.showError(e.meta.msg,"Error")})}isSelected(e){this.oneTimeCostForm.value.costsArray.map((n,i)=>n?.name===e)}totalOneTimeCost(){let e=0;this.oneTimeCostForm.value.costsArray.map((n,i)=>{e+=n?.cost}),this.totalOneTimeCostNum=e}submitOneTimeForm(){if(this.oneTimeCostForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},oneTimeCost:this.oneTimeCostForm.value.costsArray,totalOneTimeCost:this.totalOneTimeCostNum};this.QS.requoteAddOneTimeCost(e).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}getFormGroup(e){return e}shippingTerm(){this.ngxService.start(),this.QS.getAppConfigByKey("SHIPPING_TERMS_VALUE").pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.shippingTermsList=e.data.value.split("|"),this.shippingTermsList=this.shippingTermsList.map(n=>n.trim())):this._notify.showError(e.meta.msg,"Error")})}submitPackagingForm(){if(this.packagingForm.valid){this.isPackageLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},casePack:this.packagingForm.value.casePack,validUpto:d(this.packagingForm.value.validUpto,["DD-MM-YYYY"]).valueOf(),dimension:{length:this.packagingForm.value.length,breadth:this.packagingForm.value.breadth,height:this.packagingForm.value.height},grossWeight:this.packagingForm.value.grossWeight,shippingAddress:this.packagingForm.value.shippingAddress};this.QS.requoteAddPackaging(e).pipe((0,c.x)(()=>{this.isPackageLoading=!1})).subscribe(n=>{n.meta.status?(this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this._notify.showSuccess(n.meta.msg,"Success")):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.packagingFormSubmittied=!0}submitPpsForm(){if(this.ppsForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},prePurchaseSampleQuantity:this.ppsForm.value.prePurchaseSampleQuantity,prePurchaseSampleProductionLeadTime:this.ppsForm.value.prePurchaseSampleProductionLeadTime,prePurchaseSampleTotalPrice:this.ppsForm.value.prePurchaseSampleTotalPrice};this.QS.requoteAddPps(e).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}toTimeStamp(e){return Date.parse(e)/1e3}submitQuotation(){if(this.quotationsForm.valid){this.isLoadingQuote=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},quotation:this.quotationsForm.getRawValue().quotationsArray,shippingTerms:this.quotationsForm.getRawValue().shippingTerms};this.QS.requoteAddQuotation(e).pipe((0,c.x)(()=>{this.isLoadingQuote=!1})).subscribe(n=>{n.meta.status?(this.previousQuoteFormValue=this.quotationsForm.getRawValue(),this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this._notify.showSuccess(n.meta.msg,"Success")):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.quotationFormSubmittied=!0}saveTolerance(){if(this.toleranceForm.valid){this.isLoadingTolerance=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},productTolerance:this.toleranceForm.value.toleranceArray};this.QS.requoteAddTolerance(e).pipe((0,c.x)(()=>{this.isLoadingTolerance=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.toleranceFormSubmittied=!0}getLeadDetail(){this.lead=this.leadDraft,this.isCasePackNotfied=this.lead?.customerProducts.productForm.hasOwnProperty("casePack")&&""!=this.lead?.customerProducts.productForm.casePack.value,this.isCasePackNotfied&&this.packagingForm.get("casePack")?.setValue(this.lead?.customerProducts.productForm.casePack),this.lead?.customerProducts?.productArtworks.map(e=>{let n=e.split("/"),i=this.getFileType(n[n.length-1]);delete i.type,this.productArtworks.push({url:e,name:n[n.length-1],...i})}),this.lead?.customerProducts?.productAttachments.map(e=>{let n=e.split("/"),i=this.getFileType(n[n.length-1]);delete i.type,this.productAttachments.push({url:e,name:n[n.length-1],...i})})}getDetail(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId,!1).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status&&(this.leadDraft=n?.data,this.addresses=this.leadDraft.userAddresses,this.cifShippingPorts=this.leadDraft.userAddresses.map(i=>i.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.selectedLeadId=this.leadDraft?.leadId,this.factoryWarehouseSelectedType=this.leadDraft.factoryId?"factory":"warehouse",this.leadDraft?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.factory.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.factoryId):this.leadDraft.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.warehouseId),this.isToleranceDraft||(this.leadDraft?.productTolerance.map((i,r)=>{this.addTolerance(i,!0)}),this.previousToleranceFormValue=this.toleranceForm.value,this.hasToleranceChanges=!this.areValuesEqual(this.previousToleranceFormValue,this.previousToleranceFormValue)),this.isQuotationDraft||this.leadDraft?.quotation.map((i,r)=>{this.addQuotation(i,!0)}),!this.isPpsDraft&&this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired?(this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.leadDraft?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.leadDraft?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.leadDraft?.prePurchaseSampleTotalPrice}),this.previousPpsFormValue=this.ppsForm.value,this.hasPpsChanges=!this.areValuesEqual(this.previousPpsFormValue,this.previousPpsFormValue)):(this.ppsForm.disable(),this.checkppsformdisabled=!0),this.packagingDraft||(this.packagingForm.patchValue({casePack:this.leadDraft?.casePack,validUpto:d(this.leadDraft?.validUpto).format("DD-MM-YYYY"),length:this.leadDraft?.dimension?.length,breadth:this.leadDraft?.dimension?.breadth,height:this.leadDraft?.dimension?.height,grossWeight:this.leadDraft?.grossWeight,shippingAddress:this.leadDraft?.shippingAddress}),this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this.hasPackagingChanges=d(this.leadDraft?.validUpto).isBefore(d())),this.leadDraft?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.leadDraft?.shippingTerms),this.previousQuoteFormValue=this.quotationsForm.value,this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this.leadDraft?.isOneTimeCostSubmitted||(this.isOneTimeCostDraft=!0,this.leadDraft?.oneTimeCost.map((i,r)=>{this.addItem(i)}),this.previousOneTimeFormValue=this.oneTimeCostForm.value,this.hasOneTimeChanges=!this.areValuesEqual(this.previousOneTimeFormValue,this.previousOneTimeFormValue)),this.totalOneTimeCost()),this.initDatePicker()})}initDatePicker(){$(".validUpToDatePicker").dateRangePicker({format:"DD-MM-YYYY",singleDate:!0,showShortcuts:!1,singleMonth:!0,autoClose:!0,startDate:d().add(1,"days").format("DD-MM-YYYY")}).on("datepicker-change",(e,n)=>{this.packagingForm.get("validUpto")?.setValue(d(n.date1).format("DD-MM-YYYY"))})}getRequoteDetails(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId,!0).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status?(this.leadDraft=n?.data,this.addresses=this.leadDraft.userAddresses,this.cifShippingPorts=this.leadDraft.userAddresses.map(i=>i.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.selectedLeadId=this.leadDraft?.leadId,this.factoryWarehouseSelectedType=this.leadDraft.factoryId?"factory":"warehouse",this.leadDraft?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.factory.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.factoryId):this.leadDraft.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.warehouseId),this.getLeadDetail(),!this.leadDraft?.isProductToleranceSubmitted&&this.leadDraft?.productTolerance.length&&(this.isToleranceDraft=!0,this.leadDraft?.productTolerance.map((i,r)=>{this.addTolerance(i,!0)}),this.previousToleranceFormValue=this.toleranceForm.value,this.hasToleranceChanges=!this.areValuesEqual(this.previousToleranceFormValue,this.previousToleranceFormValue)),this.leadDraft?.isQuotationSubmitted&&(this.isQuotationDraft=!0,this.leadDraft?.quotation.map((i,r)=>{this.addQuotation(i,!0)})),this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired?(this.isPpsDraft=!0,this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.leadDraft?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.leadDraft?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.leadDraft?.prePurchaseSampleTotalPrice}),this.previousPpsFormValue=this.ppsForm.value,this.hasPpsChanges=!this.areValuesEqual(this.previousPpsFormValue,this.previousPpsFormValue)):(this.ppsForm.disable(),this.checkppsformdisabled=!0),this.leadDraft?.isPackagingDetailsSubmitted&&(this.packagingDraft=!0,this.packagingForm.patchValue({casePack:this.leadDraft?.casePack,validUpto:d(this.leadDraft?.validUpto).format("DD-MM-YYYY"),length:this.leadDraft?.dimension?.length,breadth:this.leadDraft?.dimension?.breadth,height:this.leadDraft?.dimension?.height,grossWeight:this.leadDraft?.grossWeight,shippingAddress:this.leadDraft?.shippingAddress}),this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this.hasPackagingChanges=d(this.leadDraft?.validUpto).isBefore(d())),this.leadDraft?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.leadDraft?.shippingTerms),this.previousQuoteFormValue=this.quotationsForm.value,this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this.leadDraft?.isOneTimeCostSubmitted&&(this.isOneTimeCostDraft=!0,this.leadDraft?.oneTimeCost.map((i,r)=>{this.addItem(i)}),this.previousOneTimeFormValue=this.oneTimeCostForm.value,this.hasOneTimeChanges=!this.areValuesEqual(this.previousOneTimeFormValue,this.previousOneTimeFormValue),this.totalOneTimeCost()),this.getDetail()):this.getDetail()})}submitQuote(){this.isLoading=!0,this.QS.requoteSubmit(this.quoteId).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(e=>{e.meta.status?(this._notify.showSuccess(e.meta.msg,"Success"),this.route.navigate(["/quotes"])):this._notify.showWarning(e.meta.msg,"Error")},e=>{this._notify.showError("Something Went Wrong","Error")})}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}downloadImage(e){return(0,Q.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),a=document.createElement("a"),p=window.URL.createObjectURL(i);a.href=p,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(h.gz),t.Y36(x.s),t.Y36(q.P),t.Y36(_.LA),t.Y36(v.c),t.Y36(l.qu),t.Y36(W.C),t.Y36(h.F0),t.Y36(B.L),t.Y36(K.K),t.Y36(G.l))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-requote"]],decls:258,vars:79,consts:[["id","printQuoteNowPage",1,"dashboardMain"],[1,"page-header","product-page-header","d-flex","justify-content-between"],[1,"quotesHeader"],[1,"backBtn","printPageButton"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short"],[1,"formBox","form-box"],[1,"profile-info"],[4,"ngIf"],[1,"form-group"],[1,"form-control","form-ctrl",3,"ngModel","ngModelChange","change"],["label","Factory"],[3,"value",4,"ngFor","ngForOf"],["label","Warehouse"],[1,"dropDownExport"],[1,"rightColumnDrop","mt-4","printPageButton"],["printSectionId","printQuoteNowPage","ngxPrint","",1,"btn","btn-submit","btn-outline-success",2,"width","222px",3,"useExistingCss"],["src","assets/images/download.png","alt","",1,"me-2",2,"max-width","20px"],[1,"productDetailsPage"],[1,"login-white-box","bg-white","white-well"],[1,"row"],[1,"col-12","col-sm-8","col-md-8","col-lg-8"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],[1,"table-responsive"],[1,"tableBorder"],[3,"formGroup"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"productSliderBox"],[1,"main_btn","text-end","printPageButton"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"machineSlider"],["id","robotcarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item active",3,"ngClass",4,"ngFor","ngForOf"],["class","nextprev",4,"ngIf"],[1,"main_btn","printPageButton"],["href","javascript:void(0)",1,"btn","btn-default",3,"click"],["src","assets/images/download.png","alt",""],["class","atWorkBox",4,"ngIf"],[1,"bg-white","white-well"],[1,"login-white-box"],[1,"d-sm-inline-block","ms-3"],[1,"col-12","col-sm-12","col-md-12","col-lg-12",3,"formGroup"],["class","col-12 col-sm-4 col-md-4 col-lg-3",4,"ngIf"],[1,"tableBorder","tbldesignforlist"],[1,"tblflexcolumn"],[1,"tblflexcolumnin","pe-0"],[1,"listtitlegreen"],[1,"listcontentgreen"],["class","tblflexcolumnin  ps-0 ",3,"formGroup",4,"ngFor","ngForOf"],[1,"smallBtn","printPageButton"],[1,"main_btn","text-end"],[1,"packagingDetails","form-box"],[1,"col-12","col-sm-4","col-md-4","col-lg-3"],["type","text","placeholder","DD/MM/YYYY","formControlName","validUpto",1,"form-control","form-ctrl","validUpToDatePicker",3,"ngClass"],["src","assets/images/celender-icon.png","alt",""],["class","invalid-feedback",4,"ngIf"],[1,"threeBox"],["type","number","placeholder","L","formControlName","length",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","B","formControlName","breadth",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","H","formControlName","height",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control","form-ctrl",3,"ngClass","keyup"],["class","col-12 col-sm-4 col-md-4 col-lg-9",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"ppsCost","form-box"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"table-responsive","fix-headertbl","d-none"],[1,"td_green"],["type","text","placeholder","PPS Quantity","formControlName","prePurchaseSampleQuantity",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Production Lead Time","formControlName","prePurchaseSampleProductionLeadTime",1,"form-control","form-ctrl",3,"ngClass"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Price","formControlName","prePurchaseSampleTotalPrice",1,"form-control","form-ctrl",3,"ngClass"],["class","smallBtn printPageButton",4,"ngIf"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],[1,"oneTimeCost"],[1,"bgGrayBox","mb-4"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"formOneTime"],["class","row",3,"formGroup",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"main_btn","text-end","mt-5","printPageButton"],["fgsColor","#3E916C",3,"hasProgressBar"],[3,"value"],["type","text","readonly","","formControlName","name",1,"form-control","form-ctrl","showastext"],["type","text","formControlName","measurement",1,"form-control","form-ctrl","showastext"],["class","text-center",4,"ngIf"],[1,"form-box"],[1,"col-md-6"],["for","lowerLimit",1,"mb-2"],["id","lowerLimit","type","number","placeholder","","formControlName","lowerTolerance",1,"form-control","form-ctrl"],["for","upperLimit",1,"mb-2"],["id","upperLimit","type","number","placeholder","","formControlName","upperTolerance",1,"form-control","form-ctrl"],[1,"text-center"],[1,"carousel-item","active",3,"ngClass"],["alt"," ",1,"d-block","w-100",3,"src"],[1,"nextprev"],["type","button","data-bs-target","#robotcarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#robotcarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"atWorkBox"],[1,"pdfDownloadBox"],["class","downLoadPdf",4,"ngFor","ngForOf"],[1,"downLoadPdf"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr-icon.png",3,"alt",4,"ngIf"],["src","assets/images/pdf-icon.png",3,"alt",4,"ngIf"],["src","assets/images/word-icon.png",3,"alt",4,"ngIf"],["src","assets/images/xls-icon.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator-icon.png",3,"alt",4,"ngIf"],["src","assets/images/download.png","alt","Download Art"],[3,"src","alt"],["src","assets/images/cdr-icon.png",3,"alt"],["src","assets/images/pdf-icon.png",3,"alt"],["src","assets/images/word-icon.png",3,"alt"],["src","assets/images/xls-icon.png",3,"alt"],["src","assets/images/illustrator-icon.png",3,"alt"],["src","assets/images/download.png","alt","Download Addiotional Attachment"],["formControlName","shippingTerms",1,"form-ctrl","form-control",3,"ngClass"],["value",""],[1,"invalid-feedback"],[1,"tblflexcolumnin","ps-0",3,"formGroup"],["type","text","placeholder","","readonly","","formControlName","quantity",1,"form-control","form-ctrl","showastext2"],[1,"form-box","formboxtbl"],[1,"listcontentgreen","tolerancetextfield"],["type","number","placeholder","","formControlName","quantityTolerance","placeholder","5",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","productionleadTime",1,"form-control","form-ctrl"],[1,"input-group-text",2,"height","35px"],["type","number","placeholder","","formControlName","pricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","number","placeholder","","formControlName","totalPrice",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalCbm",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalCartons",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalWeight",1,"form-control","form-ctrl"],["type","number","placeholder","Case Pack","formControlName","casePack",1,"form-control","form-ctrl",3,"ngClass","keyup"],[1,"col-12","col-sm-4","col-md-4","col-lg-9"],["class","form-ctrl form-control","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["formControlName","shippingAddress",1,"form-ctrl","form-control",3,"ngClass"],[1,"invalid-feedback",2,"display","block"],[1,"row",3,"formGroup"],["formControlName","name",1,"form-control","form-ctrl"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder"," 30.000","formControlName","cost",1,"form-control","form-ctrl",3,"change"],[1,"col-12","col-sm-2","col-md-2","col-lg-2","align-items-center","d-flex"],[1,"delete_add"],["href","javascript:void(0)",3,"click",4,"ngIf"],["style","border:none;","href","javascript:void(0)",4,"ngIf"],["class","add ms-2","href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value","disabled"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-trash-o"],["href","javascript:void(0)",2,"border","none"],["href","javascript:void(0)",1,"add","ms-2",3,"click"],[1,"bi","bi-plus-lg"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"h3"),t._uU(8," Quoting "),t.TgZ(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"div",7)(12,"h6"),t._uU(13),t.qZA(),t.TgZ(14,"h6"),t._uU(15,"For:"),t.TgZ(16,"span"),t.YNc(17,H,2,1,"span",8),t._uU(18),t.YNc(19,X,2,2,"ng-container",8),t._uU(20),t.qZA()()(),t.TgZ(21,"div",9)(22,"label"),t._uU(23,"Quoting From:"),t.qZA(),t.TgZ(24,"select",10),t.NdJ("ngModelChange",function(a){return i.factoryWarehouseSelectedId=a})("change",function(a){return i.changeOfFactoryWarehouse(a)}),t.TgZ(25,"optgroup",11),t.YNc(26,z,2,7,"option",12),t.qZA(),t.TgZ(27,"optgroup",13),t.YNc(28,tt,2,7,"option",12),t.qZA()()()(),t.TgZ(29,"div",14)(30,"span")(31,"div",15)(32,"button",16),t._UZ(33,"img",17),t._uU(34," Export as PDF "),t.qZA()()()()()(),t.TgZ(35,"div",18)(36,"div",19)(37,"div",20)(38,"div",21)(39,"div",22)(40,"h4",23),t._uU(41,"Product Details"),t.qZA()(),t.TgZ(42,"div",24)(43,"div",25)(44,"form",26)(45,"table")(46,"tbody")(47,"tr")(48,"th"),t._uU(49," Details"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Measurements "),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Tolerances "),t.qZA()(),t.YNc(54,it,7,3,"tr",27),t.qZA()()()()()(),t.TgZ(55,"div",28)(56,"div",29)(57,"div",30)(58,"button",31),t.NdJ("click",function(){return i.saveTolerance()}),t._UZ(59,"i",32),t._uU(60," Save "),t.qZA()(),t.TgZ(61,"div",33)(62,"div",34)(63,"div",35),t.YNc(64,st,2,4,"div",36),t.qZA(),t.YNc(65,rt,9,0,"div",37),t.qZA(),t.TgZ(66,"div",38)(67,"a",39),t.NdJ("click",function(){return i.downloadImage(null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg[i.selectedImage])}),t._uU(68,"Download "),t._UZ(69,"img",40),t.qZA()()(),t.YNc(70,gt,5,1,"div",41),t.YNc(71,Ct,5,1,"div",41),t.qZA()()()(),t.TgZ(72,"div",42)(73,"div",43)(74,"div",22)(75,"h4",23),t._uU(76,"Quotations"),t.qZA()(),t.TgZ(77,"span",44),t._uU(78),t.qZA(),t.TgZ(79,"div",20)(80,"div",45),t.YNc(81,yt,9,5,"div",46),t.TgZ(82,"div",24)(83,"div",47)(84,"form")(85,"div",48)(86,"div",49)(87,"ul")(88,"li",50),t._uU(89,"Quantity"),t.qZA(),t.TgZ(90,"li",51),t._uU(91,"Quantity Tolerance:"),t.qZA(),t.TgZ(92,"li",51),t._uU(93,"Prod. Lead Time (In Days):"),t.qZA(),t.TgZ(94,"li",51),t._uU(95),t.qZA(),t.TgZ(96,"li",51),t._uU(97,"Total Price:"),t.qZA(),t.TgZ(98,"li",51),t._uU(99,"Total CBM:"),t.qZA(),t.TgZ(100,"li",51),t._uU(101,"Total Cartons:"),t.qZA(),t.TgZ(102,"li",51),t._uU(103,"Total Weight (In kg):"),t.qZA()()(),t.YNc(104,At,26,3,"div",52),t.qZA()()()(),t.TgZ(105,"div",53)(106,"div",54)(107,"button",31),t.NdJ("click",function(){return i.submitQuotation()}),t._UZ(108,"i",32),t._uU(109," Save "),t.qZA()()()()()()(),t.TgZ(110,"div",19)(111,"div",22)(112,"h4",23),t._uU(113,"Packaging Details"),t.qZA()(),t.TgZ(114,"div",55),t.YNc(115,Pt,4,1,"h6",8),t.TgZ(116,"form",26)(117,"div",20),t.YNc(118,Ut,6,4,"div",46),t.TgZ(119,"div",56)(120,"div",9)(121,"label"),t._uU(122," Valid Upto"),t.qZA(),t._UZ(123,"input",57),t.TgZ(124,"span"),t._UZ(125,"img",58),t.qZA(),t.YNc(126,It,2,1,"div",59),t.qZA()(),t.TgZ(127,"div",56)(128,"div",9)(129,"label"),t._uU(130," Carton Dimensions "),t.TgZ(131,"span"),t._uU(132,"(in Inches)"),t.qZA()(),t.TgZ(133,"div",60)(134,"input",61),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA(),t.TgZ(135,"input",62),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA(),t.TgZ(136,"input",63),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA()(),t.YNc(137,St,2,1,"div",59),t.YNc(138,Jt,2,1,"div",59),t.YNc(139,Ot,2,1,"div",59),t.qZA()(),t.TgZ(140,"div",56)(141,"div",9)(142,"label"),t._uU(143," Gross Weight "),t.TgZ(144,"span"),t._uU(145,"(per case in kg)"),t.qZA()(),t.TgZ(146,"input",64),t.NdJ("keyup",function(a){return i.changeWeight(a)}),t.qZA(),t.YNc(147,Vt,2,1,"div",59),t.qZA()(),t.YNc(148,oe,9,7,"div",65),t.qZA()(),t.TgZ(149,"div",53)(150,"div",54)(151,"button",31),t.NdJ("click",function(){return i.submitPackagingForm()}),t._UZ(152,"i",32),t._uU(153," Save "),t.qZA()()()()(),t.TgZ(154,"div",20)(155,"div",66)(156,"div",67)(157,"div",20)(158,"div",68)(159,"div",43)(160,"div",22)(161,"h4",23),t._uU(162,"PPS"),t.qZA()(),t.TgZ(163,"div",69)(164,"div",25)(165,"table")(166,"tbody")(167,"tr")(168,"th"),t._uU(169," PPS Quantity"),t.qZA(),t.TgZ(170,"th"),t._uU(171,"10"),t.qZA()(),t.TgZ(172,"tr")(173,"td",70),t._uU(174,"Prod. Lead Time (In Days): "),t.qZA(),t.TgZ(175,"td"),t._uU(176,"45 Days "),t.qZA()(),t.TgZ(177,"tr")(178,"td",70),t._uU(179,"Grand Total Price: "),t.qZA(),t.TgZ(180,"td"),t._uU(181," $ 750.00"),t.qZA()()()()()(),t.TgZ(182,"div",43)(183,"form",26)(184,"div",20)(185,"div",66)(186,"div",9)(187,"label"),t._uU(188," PPS Quantity "),t.TgZ(189,"span"),t._uU(190,":"),t.qZA()(),t._UZ(191,"input",71),t.YNc(192,ne,2,1,"div",59),t.qZA()(),t.TgZ(193,"div",66)(194,"div",9)(195,"label"),t._uU(196," Production Lead Time "),t.TgZ(197,"span"),t._uU(198,"(In Days):"),t.qZA()(),t._UZ(199,"input",72),t.YNc(200,re,2,1,"div",59),t.qZA()(),t.TgZ(201,"div",66)(202,"div",9)(203,"label"),t._uU(204," Grand Total Price:"),t.qZA(),t.TgZ(205,"div",73)(206,"span",74),t._uU(207),t.qZA(),t._UZ(208,"input",75),t.qZA(),t.YNc(209,le,2,1,"div",59),t.qZA()()()(),t.YNc(210,ue,4,1,"div",76),t.qZA()()(),t.TgZ(211,"div",77)(212,"div",43)(213,"div",22)(214,"h4",23),t._uU(215,"One Time Cost"),t.qZA()(),t.TgZ(216,"div",69)(217,"div",25)(218,"table")(219,"tbody")(220,"tr")(221,"th"),t._uU(222,"One Time Cost"),t.qZA(),t.TgZ(223,"th"),t._uU(224,"Cost"),t.qZA()(),t.TgZ(225,"tr")(226,"td",70),t._uU(227,"Cylinder Cost "),t.qZA(),t.TgZ(228,"td"),t._uU(229,"$ 30,000 "),t.qZA()(),t.TgZ(230,"tr")(231,"td",70),t._uU(232,"Total One Time Cost: "),t.qZA(),t.TgZ(233,"td"),t._uU(234,"$ 30,000"),t.qZA()()()()()(),t.TgZ(235,"div",43)(236,"div",78)(237,"div",79)(238,"div",20)(239,"div",80)(240,"h2"),t._uU(241,"One Time Cost"),t.qZA()(),t.TgZ(242,"div",80)(243,"h2"),t._uU(244,"Cost"),t.qZA()()()(),t.TgZ(245,"div",81)(246,"form",26),t.YNc(247,ge,19,6,"div",82),t.qZA()()(),t.TgZ(248,"h6",83),t._uU(249),t.qZA(),t.TgZ(250,"div",53)(251,"div",54)(252,"button",31),t.NdJ("click",function(){return i.submitOneTimeForm()}),t._uU(253," Save"),t.qZA()()()()()()()()()(),t.TgZ(254,"div",84)(255,"button",31),t.NdJ("click",function(){return i.submitQuote()}),t._uU(256," Submit Quote "),t.qZA()()()(),t._UZ(257,"ngx-ui-loader",85)),2&n&&(t.xp6(10),t.Oqu(null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productName),t.xp6(3),t.hij("Product ID: ",null==i.leadDraft?null:i.leadDraft.customerProducts.customerProductId,""),t.xp6(4),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(1),t.hij(" Customer ID: ",null==i.leadDraft||null==i.leadDraft.customerLogin?null:i.leadDraft.customerLogin.customerId," "),t.xp6(1),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(1),t.hij(" (",null==i.leadDraft||null==i.leadDraft.customer||null==i.leadDraft.customer.countryObj?null:i.leadDraft.customer.countryObj.name,")"),t.xp6(4),t.Q6J("ngModel",i.factoryWarehouseSelectedId),t.xp6(2),t.Q6J("ngForOf",i.factoryList),t.xp6(2),t.Q6J("ngForOf",i.warehouseList),t.xp6(4),t.Q6J("useExistingCss",!0),t.xp6(12),t.Q6J("formGroup",i.toleranceForm),t.xp6(10),t.Q6J("ngForOf",i.toleranceFormControls.controls),t.xp6(4),t.Q6J("disabled",!i.hasToleranceChanges||i.isLoadingTolerance),t.xp6(1),t.Q6J("ngClass",t.VKq(57,Z,i.isLoadingTolerance)),t.xp6(5),t.Q6J("ngForOf",null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg),t.xp6(1),t.Q6J("ngIf",(null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg.length)>1),t.xp6(5),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(7),t.hij("Quote ",i.shippingTermString," Prices"),t.xp6(2),t.Q6J("formGroup",i.quotationsForm),t.xp6(1),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(14),t.hij("Price Per ",null==i.lead||null==i.lead.customerProducts?null:i.lead.customerProducts.quantityType,":"),t.xp6(9),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.Q6J("disabled",!i.hasQuoteChanges||i.isLoadingQuote),t.xp6(1),t.Q6J("ngClass",t.VKq(59,Z,i.isLoadingQuote)),t.xp6(7),t.Q6J("ngIf",i.isCasePackNotfied),t.xp6(1),t.Q6J("formGroup",i.packagingForm),t.xp6(2),t.Q6J("ngIf",!i.isCasePackNotfied),t.xp6(5),t.Q6J("ngClass",t.VKq(61,g,i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors)),t.xp6(3),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(63,g,i.packagingFormSubmittied&&i.packagingFormControls.length.errors)),t.xp6(1),t.Q6J("ngClass",t.VKq(65,g,i.packagingFormSubmittied&&i.packagingFormControls.breadth.errors)),t.xp6(1),t.Q6J("ngClass",t.VKq(67,g,i.packagingFormSubmittied&&i.packagingFormControls.height.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.length.errors),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.breadth.errors),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.height.errors),t.xp6(7),t.Q6J("ngClass",t.VKq(69,g,i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors),t.xp6(1),t.Q6J("ngIf",i.packagingForm.value.hasOwnProperty("shippingAddress")),t.xp6(3),t.Q6J("disabled",!i.hasPackagingChanges||i.isPackageLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(71,Z,i.isPackageLoading)),t.xp6(31),t.Q6J("formGroup",i.ppsForm),t.xp6(8),t.Q6J("ngClass",t.VKq(73,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors),t.xp6(7),t.Q6J("ngClass",t.VKq(75,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors),t.xp6(7),t.Oqu(null==i.leadDraft?null:i.leadDraft.currency),t.xp6(1),t.Q6J("ngClass",t.VKq(77,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors),t.xp6(1),t.Q6J("ngIf",!i.checkppsformdisabled),t.xp6(36),t.Q6J("formGroup",i.oneTimeCostForm),t.xp6(1),t.Q6J("ngForOf",i.oneTimeCostFormControls.controls),t.xp6(2),t.AsE("Total One Time Cost: ",null==i.leadDraft?null:i.leadDraft.currency," ",i.totalOneTimeCostNum,""),t.xp6(3),t.Q6J("disabled",!i.hasOneTimeChanges),t.xp6(3),t.Q6J("disabled",i.hasOneTimeChanges||i.hasPpsChanges||i.hasPackagingChanges||i.hasQuoteChanges||i.hasToleranceChanges),t.xp6(2),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,m.mk,m.sg,m.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,l.F,T.IH,m.rS],styles:[".btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{opacity:.4}.btn-success[_ngcontent-%COMP%]:disabled, .btn-success.disabled[_ngcontent-%COMP%]{background-color:#838383;border-color:#838383}@media print{.printPageButton[_ngcontent-%COMP%]{display:none!important}}"]})}return o})();const _e=function(o){return["/quotation/details",o]};function fe(o,s){if(1&o&&(t.TgZ(0,"div",60)(1,"div",14)(2,"a",61),t._uU(3,"View Previous Quotes "),t.qZA()()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(1,_e,null==e.quoteDetail?null:e.quoteDetail.previousQuoteId))}}function qe(o,s){1&o&&(t.TgZ(0,"sub",68),t._uU(1,"%"),t.qZA())}function ve(o,s){1&o&&(t.TgZ(0,"sub",68),t._uU(1,"%"),t.qZA())}function Te(o,s){if(1&o&&(t.TgZ(0,"td",26)(1,"div",63)(2,"div")(3,"label",64),t._uU(4,"Lower Limit"),t.qZA(),t.TgZ(5,"div",14)(6,"div",65),t._uU(7),t.YNc(8,qe,2,0,"sub",66),t.qZA()()(),t.TgZ(9,"div")(10,"label",67),t._uU(11,"Upper Limit"),t.qZA(),t.TgZ(12,"div",14)(13,"div",65),t._uU(14),t.YNc(15,ve,2,0,"sub",66),t.qZA()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(7),t.hij(" ",(null==e?null:e.lowerTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit)),t.xp6(6),t.hij(" ",(null==e?null:e.upperTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit))}}function Ze(o,s){1&o&&(t.TgZ(0,"td",26),t._uU(1," ---- "),t.qZA())}function Ce(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",26),t._uU(4),t.qZA(),t.YNc(5,Te,16,4,"td",62),t.YNc(6,Ze,2,0,"td",62),t.qZA()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.measurement),t.xp6(1),t.Q6J("ngIf",null==e?null:e.lowerTolerance),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.lowerTolerance))}}const xe=function(o){return{active:o}};function be(o,s){if(1&o&&(t.TgZ(0,"div",71),t._UZ(1,"img",72),t.qZA()),2&o){const e=s.$implicit;t.Q6J("ngClass",t.VKq(2,xe,0===s.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function De(o,s){if(1&o&&(t.TgZ(0,"div",69),t.YNc(1,be,2,4,"div",70),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.quoteDetail||null==e.quoteDetail.customerProduct?null:e.quoteDetail.customerProduct.productImages)}}function ye(o,s){1&o&&(t.TgZ(0,"div",69)(1,"div",73),t._UZ(2,"img",74),t.qZA()())}function Ae(o,s){1&o&&(t.TgZ(0,"button",75),t._UZ(1,"span",76),t.TgZ(2,"span",77),t._uU(3,"Previous"),t.qZA()())}function Pe(o,s){1&o&&(t.TgZ(0,"button",78),t._UZ(1,"span",79),t.TgZ(2,"span",77),t._uU(3,"Next"),t.qZA()())}function Qe(o,s){if(1&o&&t._UZ(0,"img",94),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Fe(o,s){if(1&o&&t._UZ(0,"img",95),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ue(o,s){if(1&o&&t._UZ(0,"img",96),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function we(o,s){if(1&o&&t._UZ(0,"img",97),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ie(o,s){if(1&o&&t._UZ(0,"img",98),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ke(o,s){if(1&o&&t._UZ(0,"img",99),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Se(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",84)(1,"div",85)(2,"div",86),t.YNc(3,Qe,1,2,"img",87),t.YNc(4,Fe,1,1,"img",88),t.YNc(5,Ue,1,1,"img",89),t.YNc(6,we,1,1,"img",90),t.YNc(7,Ie,1,1,"img",91),t.YNc(8,ke,1,1,"img",92),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",93),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(13,"Download "),t._UZ(14,"i",36),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ne(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",80)(2,"h6",81),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",82),t.YNc(5,Se,15,7,"div",83),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function Je(o,s){if(1&o&&t._UZ(0,"img",94),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Ye(o,s){if(1&o&&t._UZ(0,"img",95),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Oe(o,s){if(1&o&&t._UZ(0,"img",96),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Le(o,s){if(1&o&&t._UZ(0,"img",97),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ve(o,s){if(1&o&&t._UZ(0,"img",98),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Re(o,s){if(1&o&&t._UZ(0,"img",99),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Me(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",84)(1,"div",85)(2,"div",86),t.YNc(3,Je,1,2,"img",87),t.YNc(4,Ye,1,1,"img",88),t.YNc(5,Oe,1,1,"img",89),t.YNc(6,Le,1,1,"img",90),t.YNc(7,Ve,1,1,"img",91),t.YNc(8,Re,1,1,"img",92),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",93),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(13,"Download "),t._UZ(14,"i",36),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Ee(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",100)(2,"h6",30),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",82),t.YNc(5,Me,15,7,"div",83),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function je(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t._UZ(2,"br"),t.TgZ(3,"span",101),t._uU(4),t.qZA()()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.quantity," "),t.xp6(3),t.hij(" (\xb1 ",(null==e?null:e.quantityTolerance)||0," %)")}}function We(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.productionleadTime," Days")}}function Be(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function $e(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function Ke(o,s){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,Be,2,1,"span",37),t.YNc(2,$e,2,0,"span",37),t._uU(3),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)==(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)!=(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",null==e?null:e.pricePerPiece,"")}}function Ge(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function He(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function Xe(o,s){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,Ge,2,1,"span",37),t.YNc(2,He,2,0,"span",37),t._uU(3),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)==(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)!=(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",null==e?null:e.totalPrice,"")}}function ze(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCbm,"")}}function to(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCartons,"")}}function eo(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1,"Shipping Terms"),t.qZA())}function oo(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port"),t.qZA())}function io(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port"),t.qZA())}function no(o,s){if(1&o&&(t.TgZ(0,"div",14),t.YNc(1,eo,2,0,"label",37),t.YNc(2,oo,2,0,"label",37),t.YNc(3,io,2,0,"label",37),t._UZ(4,"input",55),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)||"DDP"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","FOB"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","CIF"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.s9C("placeholder",null==e.quoteDetail?null:e.quoteDetail.shippingAddress)}}function so(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",26),t._uU(4),t.qZA()()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.AsE("",null==n.quoteDetail?null:n.quoteDetail.currency," ",null==e?null:e.cost,"")}}const ro=[{path:"",component:E},{path:"detail",component:(()=>{class o{constructor(e,n,i,r){this.routes=e,this.ngxService=n,this.QS=i,this._notify=r,this.totalOneTimeCostNum=0,this.moment=d(),this.productArtworks=[],this.productAttachments=[],this.selectedImage=0}ngOnInit(){this.routes.queryParams.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getDetail()),e&&e.leadId&&(this.quoteId=e.leadId,this.quoteDraft())}),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to})}getDetail(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.quoteDetail=e?.data,this.quoteDetail?.customerProduct?.productArtworks.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productArtworks.push({url:n,name:i[i.length-1],...r})}),this.quoteDetail?.customerProduct?.productAttachments.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productAttachments.push({url:n,name:i[i.length-1],...r})})):this._notify.showError(e.meta.msg,"Error")})}quoteDraft(){this.ngxService.start(),this.QS.quoteDraft(this.quoteId).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.quoteDetail=e?.data,this.quoteDetail?.customerProduct?.productArtworks.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productArtworks.push({url:n,name:i[i.length-1],...r})}),this.quoteDetail?.customerProduct?.productAttachments.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productAttachments.push({url:n,name:i[i.length-1],...r})})):this._notify.showError(e.meta.msg,"Error")})}downloadImage(e){return(0,Q.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),a=document.createElement("a"),p=window.URL.createObjectURL(i);a.href=p,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(h.gz),t.Y36(_.LA),t.Y36(q.P),t.Y36(v.c))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotaion-details"]],decls:187,vars:35,consts:[["id","print-section",1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row"],[1,"col-7","col-sm-6","col-md-6","col-lg-7"],[1,"page-header","back-page","border-0","mb-2"],[1,"mb-0","ps-5"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"text-success"],[1,"profile-info"],[1,"col-5","col-sm-6","col-md-6","col-lg-5","text-end","printPageButton"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],["class","form-box form-filter",4,"ngIf"],[1,"dropdown","form-box","form-filter"],[1,"form-group"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-submit","btn-outline-success",3,"useExistingCss"],["src","assets/images/download.png","alt","",1,"me-2"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"productDetailsPage"],[1,""],[1,"table-reponsive"],[1,"tableBorder"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],["class","carousel-inner",4,"ngIf"],["class","carousel-control-prev printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",4,"ngIf"],["class","carousel-control-next printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton","printPageButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[4,"ngIf"],[1,"text-success","d-sm-inline-block","ms-3"],[1,"table-card"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],["class","text-center",4,"ngFor","ngForOf"],[1,"table-info"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-box"],[1,"formflex","justify-content-between"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"value"],[1,"calendarInput"],["type","text","readonly","",1,"form-control","form-ctrl","datePicker","greenborder",3,"value"],[1,"formIconsinner"],[1,"bi","bi-calendar-week"],[1,"text-success","fw300"],[1,"col-md-4","col-4"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder","text-center",3,"placeholder"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"placeholder"],["class","form-group",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],["class","text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["style","bottom: 0px;",4,"ngIf"],["for","upperLimit",1,"mb-2"],[2,"bottom","0px"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-item",3,"ngClass"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-item","active"],["src","assets/images/no-img.png","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev","printPageButton"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next","printPageButton"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"product-body","printPageButton"],[1,"mb-2","mt-4"],[1,"form-group","printPageButton"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4","printPageButton"],[1,"small"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"img",7),t.qZA(),t._uU(8," Quoted "),t.TgZ(9,"span",8),t._uU(10),t.qZA(),t.TgZ(11,"sub",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"h6")(15,"em"),t._uU(16,"By: "),t.TgZ(17,"span",8),t._uU(18),t.qZA()()(),t.TgZ(19,"h6")(20,"em")(21,"span",8),t._uU(22),t.qZA()()()()(),t.TgZ(23,"div",10)(24,"div",11),t.YNc(25,fe,4,3,"div",12),t.TgZ(26,"div",13)(27,"div",14)(28,"button",15),t._UZ(29,"img",16),t._uU(30," Export as PDF "),t.qZA()()()()()()(),t.TgZ(31,"div",1)(32,"div",2)(33,"div",17)(34,"div",18)(35,"h4",19),t._uU(36,"Product Details"),t.qZA()()()(),t.TgZ(37,"div",20)(38,"div",2)(39,"div",21)(40,"div",22)(41,"div",23)(42,"div",24)(43,"div",25)(44,"table",23)(45,"thead")(46,"tr",23)(47,"th"),t._uU(48,"Details"),t.qZA(),t.TgZ(49,"th",26),t._uU(50,"Measurements"),t.qZA(),t.TgZ(51,"th",26),t._uU(52,"Tolerances"),t.qZA()()(),t.TgZ(53,"tbody"),t.YNc(54,Ce,7,4,"tr",27),t.qZA()()()()()()(),t.TgZ(55,"div",28)(56,"div",29)(57,"h6",30),t._uU(58,"Product Images:"),t.qZA()(),t.TgZ(59,"div")(60,"div",31),t.YNc(61,De,2,1,"div",32),t.YNc(62,ye,3,0,"div",32),t.YNc(63,Ae,4,0,"button",33),t.YNc(64,Pe,4,0,"button",34),t.qZA(),t.TgZ(65,"a",35),t.NdJ("click",function(){return i.downloadImage(null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productImg[i.selectedImage])}),t._uU(66,"Download "),t._UZ(67,"i",36),t.qZA()(),t.YNc(68,Ne,6,1,"ng-container",37),t.YNc(69,Ee,6,1,"ng-container",37),t.qZA()()()(),t.TgZ(70,"div",1)(71,"div",18)(72,"h4",19),t._uU(73,"Quotations"),t.qZA()(),t.TgZ(74,"p",38),t._uU(75,"* The Prices quoted are FOB"),t.qZA(),t.TgZ(76,"div",39)(77,"div",24)(78,"table",40)(79,"thead")(80,"tr",41)(81,"td"),t._uU(82,"Quantity"),t.qZA(),t.YNc(83,je,5,2,"td",42),t.qZA()(),t.TgZ(84,"tbody")(85,"tr")(86,"td",8),t._uU(87,"Prod. Lead Time (In Days):"),t.qZA(),t.YNc(88,We,2,1,"td",42),t.qZA(),t.TgZ(89,"tr")(90,"td",8),t._uU(91,"Price Per Piece:"),t.qZA(),t.YNc(92,Ke,4,3,"td",42),t.qZA(),t.TgZ(93,"tr",43)(94,"td",8),t._uU(95,"Grand Total Price:"),t.qZA(),t.YNc(96,Xe,4,3,"td",42),t.qZA(),t.TgZ(97,"tr")(98,"td",8),t._uU(99,"Total CBM:"),t.qZA(),t.YNc(100,ze,2,1,"td",42),t.qZA(),t.TgZ(101,"tr")(102,"td",8),t._uU(103,"Total Cartons:"),t.qZA(),t.YNc(104,to,2,1,"td",42),t.qZA()()()()()(),t.TgZ(105,"div",2)(106,"div",44)(107,"div",1)(108,"div",18)(109,"h4",19),t._uU(110,"Packaging Details"),t.qZA()(),t.TgZ(111,"div",45)(112,"div",46)(113,"div",14)(114,"label"),t._uU(115,"Case Pack"),t.qZA(),t._UZ(116,"input",47),t.qZA(),t.TgZ(117,"div",14)(118,"label"),t._uU(119,"Valid Upto"),t.qZA(),t.TgZ(120,"div",48),t._UZ(121,"input",49),t.ALo(122,"date"),t.TgZ(123,"span",50),t._UZ(124,"i",51),t.qZA()()(),t.TgZ(125,"div",14)(126,"label"),t._uU(127,"Carton Dimensions "),t.TgZ(128,"span",52),t._uU(129,"(in Inches)"),t.qZA()(),t.TgZ(130,"div",2)(131,"div",53),t._UZ(132,"input",54),t.qZA(),t.TgZ(133,"div",53),t._UZ(134,"input",54),t.qZA(),t.TgZ(135,"div",53),t._UZ(136,"input",54),t.qZA()()(),t.TgZ(137,"div",14)(138,"label"),t._uU(139,"Gross Weight "),t.TgZ(140,"span",52),t._uU(141,"(per case in kg)"),t.qZA()(),t._UZ(142,"input",55),t.qZA(),t.YNc(143,no,5,4,"div",56),t.qZA()()()()(),t.TgZ(144,"div",2)(145,"div",57)(146,"div",1)(147,"div",18)(148,"h4",19),t._uU(149,"Pre Production Sample"),t.qZA()(),t.TgZ(150,"div",39)(151,"div",24)(152,"table",40)(153,"thead")(154,"tr",41)(155,"td"),t._uU(156,"PPS Quantity"),t.qZA(),t.TgZ(157,"td",26),t._uU(158),t.qZA()()(),t.TgZ(159,"tbody")(160,"tr")(161,"td",8),t._uU(162,"Prod. Lead Time (In Days):"),t.qZA(),t.TgZ(163,"td",26),t._uU(164),t.qZA()(),t.TgZ(165,"tr")(166,"td",8),t._uU(167,"Grand Total Price:"),t.qZA(),t.TgZ(168,"td",26),t._uU(169),t.qZA()()()()()()()(),t.TgZ(170,"div",58)(171,"div",1)(172,"div",18)(173,"h4",19),t._uU(174,"One Time Cost"),t.qZA()(),t.TgZ(175,"div",39)(176,"div",24)(177,"table",40)(178,"thead")(179,"tr",41)(180,"td"),t._uU(181,"One Time Cost"),t.qZA(),t.TgZ(182,"td",26),t._uU(183,"Cost"),t.qZA()()(),t.TgZ(184,"tbody"),t.YNc(185,so,5,3,"tr",27),t.qZA()()()()()()()(),t._UZ(186,"ngx-ui-loader",59)),2&n&&(t.xp6(10),t.hij("",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productName,","),t.xp6(2),t.hij("(Product ID: ",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productId,")"),t.xp6(6),t.AsE(" Vendor ID: ",null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.vendorId,"(",null==i.quoteDetail||null==i.quoteDetail.factory?null:i.quoteDetail.factory.cityName,", India)"),t.xp6(4),t.hij(" Quote ID: ",null==i.quoteDetail?null:i.quoteDetail.quoteId,""),t.xp6(3),t.Q6J("ngIf",(null==i.quoteDetail?null:i.quoteDetail.isRequote)&&(null==i.quoteDetail?null:i.quoteDetail.previousQuoteId)),t.xp6(3),t.Q6J("useExistingCss",!0),t.xp6(26),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.productTolerance),t.xp6(7),t.Q6J("ngIf",0!=(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",0==(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)>1),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)>1),t.xp6(4),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(14),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(5),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(12),t.s9C("value",null==i.quoteDetail?null:i.quoteDetail.casePack),t.xp6(5),t.s9C("value",t.lcZ(122,33,null==i.quoteDetail?null:i.quoteDetail.validUpto)),t.xp6(11),t.MGl("placeholder","L: ",null==i.quoteDetail?null:i.quoteDetail.dimension.length,""),t.xp6(2),t.MGl("placeholder","B: ",null==i.quoteDetail?null:i.quoteDetail.dimension.breadth,""),t.xp6(2),t.MGl("placeholder","H: ",null==i.quoteDetail?null:i.quoteDetail.dimension.height,""),t.xp6(6),t.MGl("placeholder","",null==i.quoteDetail?null:i.quoteDetail.grossWeight," Kg"),t.xp6(1),t.Q6J("ngIf","Ex-Factory"!==(null==i.quoteDetail?null:i.quoteDetail.shippingTerms)),t.xp6(15),t.Oqu((null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleQuantity)||"--"),t.xp6(6),t.hij("",(null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleProductionLeadTime)||"--"," Days "),t.xp6(5),t.AsE("",null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.currency," ",(null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleTotalPrice)||"--",""),t.xp6(16),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.oneTimeCost),t.xp6(1),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,h.rH,m.mk,m.sg,m.O5,T.IH,m.uU],styles:["@media print{.printPageButton[_ngcontent-%COMP%]{display:none}}.column-btns[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #0000000d;color:#fff;padding:10px 20px;font-size:14px}"]})}return o})()},{path:"re-quote/:id",component:he}];let ao=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(ro),h.Bz]})}return o})(),lo=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[_.Js,ao,m.ez,l.UX,l.u5,T.K8,b.Rq]})}return o})()}}]);
"use strict";(self.webpackChunkpactap_vendor=self.webpackChunkpactap_vendor||[]).push([[352],{91352:(Co,D,u)=>{u.r(D),u.d(D,{QuotesModule:()=>_o});var m=u(96814),h=u(72253),c=u(64716),d=u(16676),t=u(99468),q=u(93851),_=u(29917),b=u(21355),v=u(50458),l=u(56223),y=u(64686);function w(o,s){1&o&&(t.TgZ(0,"span",58),t._UZ(1,"img",59),t.qZA())}function U(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",60)(2,"input",61),t.NdJ("ngModelChange",function(i){const a=t.CHM(e).$implicit;return t.KtG(a.show=i)})("change",function(i){const a=t.CHM(e).index,p=t.oxw();return t.KtG(p.hideShowCol(i,a))}),t.qZA(),t.TgZ(3,"label",62),t._uU(4),t.qZA()()()}if(2&o){const e=s.$implicit,n=s.index;t.xp6(2),t.MGl("id","col",n,""),t.Q6J("ngModel",e.show),t.xp6(1),t.MGl("for","col",n,""),t.xp6(1),t.hij(" ",e.column," ")}}function F(o,s){if(1&o&&(t.TgZ(0,"option",63),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.hij(" ",null==e||null==e.adminProduct?null:e.adminProduct.productName,"")}}const I=function(o,s){return{"btn-success":o,"btn-danger":s}},T=function(){return["/quotes/detail"]},Z=function(o){return{quoteId:o}};function k(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h1"),t._uU(4),t.qZA(),t.TgZ(5,"span",71),t._uU(6),t.qZA()(),t.TgZ(7,"div",72)(8,"h1"),t._uU(9,"SC"),t.qZA(),t.TgZ(10,"div",73)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"h2"),t._uU(14),t.qZA()()(),t.TgZ(15,"div",74)(16,"h2"),t._uU(17),t.qZA(),t.TgZ(18,"p"),t._uU(19),t.qZA()(),t.TgZ(20,"div",75)(21,"div",76)(22,"h1"),t._uU(23,"Timeline:"),t.qZA(),t.TgZ(24,"p"),t._uU(25),t.ALo(26,"date"),t.qZA()(),t.TgZ(27,"div",77)(28,"a",78),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewQuoteTimeLine(r))}),t._uU(29,"View More"),t.qZA()()(),t.TgZ(30,"div",79)(31,"a",80),t._uU(32,"View"),t.qZA()()()()}if(2&o){const e=s.$implicit;t.xp6(4),t.hij("Quote ID: ",null==e?null:e.quoteId,""),t.xp6(1),t.Q6J("ngClass",t.WLB(13,I,"QUOTED"===(null==e?null:e.quoteStatus)||"ARCHIVED"===(null==e?null:e.quoteStatus),"EXPIRED"===(null==e?null:e.quoteStatus))),t.xp6(1),t.Oqu(null==e?null:e.quoteStatus),t.xp6(6),t.hij("Customer ID: ",null==e||null==e.customerLogin?null:e.customerLogin.customerId,""),t.xp6(2),t.hij(" ",null==e||null==e.customer||null==e.customer.countryObj?null:e.customer.countryObj.name,""),t.xp6(3),t.hij("Product ID: ",null==e||null==e.customerProduct?null:e.customerProduct.customerProductId,""),t.xp6(2),t.hij("Product Type: ",null==e||null==e.category?null:e.category.categoryName,""),t.xp6(6),t.hij("Quoted On: ",t.xi3(26,10,null==e?null:e.validUpto,"dd/MM/YYYY"),""),t.xp6(6),t.Q6J("routerLink",t.DdM(16,T))("queryParams",t.VKq(17,Z,null==e?null:e._id))}}function S(o,s){1&o&&(t.TgZ(0,"div",81),t._uU(1,"Quotes not found"),t.qZA())}function N(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",64),t.NdJ("scrolled",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onScrollDown(i))}),t.TgZ(1,"div",43)(2,"div",65)(3,"div",22),t.YNc(4,k,33,19,"div",66),t.YNc(5,S,2,0,"div",67),t.qZA()()()()}if(2&o){const e=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300),t.xp6(4),t.Q6J("ngForOf",e.quotes),t.xp6(1),t.Q6J("ngIf",e.gridView&&(null==e.quotes?null:e.quotes.length)<1)}}const f=function(o){return{colHide:o}};function J(o,s){if(1&o&&(t.TgZ(0,"th",88),t._uU(1),t.qZA()),2&o){const e=s.$implicit,n=s.index,i=t.oxw(2);t.Tol("col"+n),t.Q6J("ngClass",t.VKq(4,f,!i.columns[n].show)),t.xp6(1),t.hij(" ",e.column,"")}}const A=function(o){return["/quotes/re-quote",o]};function Y(o,s){if(1&o&&(t.TgZ(0,"a",100),t._uU(1,"View | Re-Quote"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,A,null==e?null:e._id))}}function O(o,s){if(1&o&&(t.TgZ(0,"a",100),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,A,null==e?null:e._id))}}function L(o,s){if(1&o&&(t.TgZ(0,"a",101),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.DdM(2,T))("queryParams",t.VKq(3,Z,null==e?null:e._id))}}function V(o,s){if(1&o&&(t.TgZ(0,"a",101),t._uU(1,"View"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.DdM(2,T))("queryParams",t.VKq(3,Z,null==e?null:e._id))}}function R(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",89),t._uU(2),t.qZA(),t.TgZ(3,"td",90)(4,"a",91),t._uU(5),t.qZA(),t._UZ(6,"br"),t._uU(7),t.qZA(),t.TgZ(8,"td",92)(9,"a",91),t._uU(10),t.qZA(),t._UZ(11,"br"),t._uU(12),t.qZA(),t.TgZ(13,"td",93),t._uU(14),t.ALo(15,"date"),t._UZ(16,"br"),t.TgZ(17,"a",78),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.viewQuoteTimeLine(r))}),t._uU(18," View More "),t.qZA()(),t.TgZ(19,"td",94),t._uU(20),t.qZA(),t.TgZ(21,"td",95)(22,"a",96),t._uU(23),t.qZA()(),t.TgZ(24,"td"),t.YNc(25,Y,2,3,"a",97),t.YNc(26,O,2,3,"a",98),t.YNc(27,L,2,5,"a",99),t.YNc(28,V,2,5,"a",99),t.qZA()()}if(2&o){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(24,f,!n.columns[0].show)),t.xp6(1),t.hij(" ",null==e?null:e.quoteId,""),t.xp6(1),t.Q6J("ngClass",t.VKq(26,f,!n.columns[1].show)),t.xp6(2),t.hij("ID:",null==e||null==e.customerLogin?null:e.customerLogin.customerId,""),t.xp6(2),t.hij("",null==e||null==e.customer||null==e.customer.countryObj?null:e.customer.countryObj.name," "),t.xp6(1),t.Q6J("ngClass",t.VKq(28,f,!n.columns[2].show)),t.xp6(2),t.hij("ID: ",null==e||null==e.customerProduct?null:e.customerProduct.customerProductId,""),t.xp6(2),t.hij(" Type: ",null==e||null==e.product?null:e.product.productName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(30,f,!n.columns[3].show)),t.xp6(1),t.hij(" Quoted On: ",t.xi3(15,21,null==e?null:e.createdAt,"dd/MM/YYYY")," "),t.xp6(5),t.Q6J("ngClass",t.VKq(32,f,!n.columns[4].show)),t.xp6(1),t.lnq(" ",e.minMaxQuant.min||"-"," ",e.minMaxQuant.max?"to":""," ",e.minMaxQuant.max," "),t.xp6(1),t.Q6J("ngClass",t.VKq(34,f,!n.columns[5].show)),t.xp6(1),t.Q6J("ngClass","EXPIRED"===(null==e?null:e.quoteStatus)?"btn-danger":"btn-success"),t.xp6(1),t.hij(" ",null==e?null:e.quoteStatus," "),t.xp6(2),t.Q6J("ngIf","UNSHARE"!=(null==e?null:e.state)&&"EXPIRED"===(null==e?null:e.quoteStatus)&&!0===(null==e?null:e.isReQuoteRequested)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today>(null==e?null:e.validUpto)),t.xp6(1),t.Q6J("ngIf","QUOTED"===(null==e?null:e.quoteStatus)&&n.today<(null==e?null:e.validUpto)),t.xp6(1),t.Q6J("ngIf","UNSHARE"!=(null==e?null:e.state)&&"EXPIRED"===(null==e?null:e.quoteStatus)&&1!=(null==e?null:e.isReQuoteRequested))}}function E(o,s){1&o&&(t.TgZ(0,"div",81),t._uU(1," Quotes not found "),t.qZA())}function M(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",82)(1,"div",83)(2,"div",84)(3,"div",85),t.NdJ("scrolled",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onScrollDown(i))}),t.TgZ(4,"table",55)(5,"thead")(6,"tr"),t.YNc(7,J,2,6,"th",86),t.TgZ(8,"th"),t._uU(9,"\xa0"),t.qZA()()(),t.TgZ(10,"tbody"),t.YNc(11,R,29,36,"tr",87),t.qZA()(),t.YNc(12,E,2,0,"div",67),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1),t.xp6(4),t.Q6J("ngForOf",e.columns),t.xp6(4),t.Q6J("ngForOf",e.quotes),t.xp6(1),t.Q6J("ngIf",!e.gridView&&(null==e.quotes?null:e.quotes.length)<1)}}const j=function(o){return{"fa-spin fa-spinner":o}},P=function(o){return{selected:o}};let W=(()=>{class o{constructor(e,n,i,r){this.QS=e,this.ngxService=n,this.PS=i,this._notifier=r,this.gridView=!1,this.productId="",this.searchKey="",this.status="",this.isLoading=!1,this.columns=[{column:"Quote ID",show:!0,key:"quoteId"},{column:"Customer Details",show:!0,key:"customer.companyName"},{column:"Product Details",show:!0,key:"product.productName"},{column:"Timeline",show:!0,key:"createdAt"},{column:"Quantity",show:!0,key:"quantity"},{column:"Status",show:!0,key:"quoteStatus"}],this.page=1,this.contentPerPage=10,this.totalPage=0}ngOnInit(){this.getQuoteList(),this.today=d().valueOf(),this.getProducts()}searchLeads(e){this.searchKey=e.target.value,this.page=1,this.getQuoteList()}hideShowCol(e,n){n&&2!==n&&5!==n?e.target.checked?$(`.col${n}`).removeClass("colHide"):$(`.col${n}`).addClass("colHide"):(this.columns[n].show=!0,$(`#col${n}`).prop("checked",!0))}exportDetails(){this.isLoading=!0;let e=JSON.parse(JSON.stringify(this.columns));e.map((i,r,a)=>{"Customer Details"===i.column&&i.show&&"Customer ID"!==a[r-1].column&&a.splice(r,0,{column:"Customer ID",show:!0,key:"customerLogin.customerId"}),"Timeline"===i.column&&i.show&&"Quoted On"!==a[r-1].column&&a.splice(r,1,{column:"Quoted On",show:!0,key:"quotedAt"}),"Quantity"===i.column&&i.show&&"Minimum Quantity"!==a[r-1].column&&a.splice(r,1,{column:"Minimum Quantity",show:!0,key:"minQuantity"},{column:"Maximum Quantity",show:!0,key:"maxQuantity"}),"Product Detail"===i.column&&i.show&&"Category Name"!==a[r-1].column&&a.splice(r,0,{column:"Product ID",show:!0,key:"product.productId"},{column:"Category Name",show:!0,key:"category.categoryName"})}),this.QS.exportQuoteDetails({searchKey:this.searchKey,productId:this.productId,startDate:this.fromDate||"",endDate:this.toDate||"",isExcelDownload:!0,quoteStatus:this.status,columnPermission:e}).subscribe(i=>{this.isLoading=!1;const r=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=window.URL.createObjectURL(r),p=document.createElement("a");p.href=a,p.download="quotes.xlsx",p.click(),window.URL.revokeObjectURL(a),p.remove(),this._notifier.showSuccess("File downloaded successfully","Success")},i=>{this._notifier.showError("Something Went Wrong","Error"),this.isLoading=!1})}ngAfterViewInit(){setTimeout(()=>{this.initDateRangePicker()},200)}initDateRangePicker(){$(".daterangePickerLeads").dateRangePicker({format:"DD-MM-YYYY",autoClose:!0,endDate:d().endOf("day").format("DD-MM-YYYY")}).on("datepicker-change",(e,n)=>{this.fromDate=d(n.date1).valueOf(),this.toDate=d(n.date2).valueOf(),this.page=1,this.getQuoteList()})}openCalendar(e){e.stopPropagation(),$(".daterangePickerLeads").data("dateRangePicker").open()}getProducts(){this.ngxService.start(),this.PS.getProducts().pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e?.meta?.status?(this.myProducts=e.data,console.log(this.myProducts)):this.myProducts=[]})}toTimeStamp(e){return Date.parse(e)/1e3}filterByProduct(e){this.productId=e?.target?.value,this.page=1,this.getQuoteList()}filterByStatus(e){this.page=1,this.status=e?.target?.value,this.getQuoteList()}addQueryParams(){return{searchKey:this.searchKey,productId:this.productId,startDate:this.fromDate,endDate:this.toDate,quoteStatus:this.status}}onScrollDown(e){this.page<this.totalPage&&(this.page+=1,this.getQuoteList(!0))}getQuoteList(e){this.ngxService.start(),this.QS.quoteList(this.page,this.contentPerPage,this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n?.meta?.status?(this.totalPage=this.totalPage?this.totalPage:Math.ceil(n.metadata[0].total/this.contentPerPage),this.quotes=e?[...this.quotes,...n.data]:n.data,this.quotes.map(i=>{let r=this.findMinMax(i.quotation,"quantity"),a=this.findMinMax(i.quotation,"totalPrice");i.minMaxQuant=r,i.minMaxPrice=a})):this.quotes=e?this.quotes:[]})}findMinMax(e,n){const{min:i,max:r}=e.reduce((a,p)=>({min:Math.min(a.min,p[n]),max:Math.max(a.max,p[n])}),{min:1/0,max:-1/0});return{min:i,max:r}}viewQuoteTimeLine(e){this.quoteDetail=e,$("#quotesId").modal("show")}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(q.P),t.Y36(_.LA),t.Y36(b.s),t.Y36(v.c))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotes"]],decls:100,vars:30,consts:[[1,"dashboardMain"],[1,"page-header","product-page-header","d-flex","justify-content-between"],[1,"rightColumnDrop"],[1,"main_btn"],["type","button",1,"btn","btn-light",3,"disabled","click"],[1,"fa",3,"ngClass"],["class","formIcons",4,"ngIf"],[1,"viewMode"],[1,"view"],["data-view","grid-view",1,"selected","fa","fa-list",3,"ngClass","click"],["data-view","list-view",1,"fa","fa-th",3,"ngClass","click"],[1,"column-btns","d-flex","align-items-center","justify-content-end"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside",1,"btn","btn-white","dropdown-toggle"],["src","assets/images/column-icon.png",1,"me-2"],["aria-labelledby","dropdownMenuButton1","checked","",1,"dropdown-menu","form-filter-drop"],[1,"form-box","form-filter"],["class","form-group",4,"ngFor","ngForOf"],[1,"account_dashboard","profile_dashboard"],[1,"login-white-box"],[1,"row","justify-content-between","listFilter"],[1,"col-12","col-sm-8","col-md-10","col-lg-12"],[1,"row"],[1,"col-12","col-md-3","col-sm-6","col-lg-2"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Search","aria-label","Search","aria-describedby","basic-addon2",1,"form-control","border-0",3,"keyup"],[1,"input-group-append"],["type","button",1,"btn","searchBtn"],[1,"fa","fa-search"],[1,"col-6","col-md-3","col-sm-6","col-lg-2"],[1,"form-control",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","col-lg-2","col-sm-2"],["value","QUOTED"],["value","ARCHIVED"],["value","EXPIRED"],[1,"col-12","col-md-4","col-lg-4","col-sm-4"],[1,"form-group","calendarInput"],["type","text","placeholder","EX: 12/02/2023  -  12/02/2023",1,"form-control","daterangePicker","daterangePickerLeads"],[1,"formIconsinner",3,"click"],[1,"bi","bi-calendar-week"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"leadMain","quotesMain"],["class","row","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled",4,"ngIf"],["class","prod grid-view",4,"ngIf"],["id","quotesId",1,"modal","fade","previousQuotes"],[1,"modal-dialog","modal-dialog-centered","modal-md","sample-popup-form"],[1,"modal-content"],[1,"modal-body"],[1,"d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"pop-table","quotesId"],[1,"table-row","table-responsive","fix-headertbl","request_sample"],["width","100%","cellspacing","0",1,"table","table-bordered"],[1,"fw500"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"formIcons"],["src","assets/images/download.png"],[1,"form-check"],["type","checkbox","name","columnName",1,"form-check-input",3,"id","ngModel","ngModelChange","change"],[1,"form-check-label",3,"for"],[3,"value"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"itemList"],["class","col-12 col-sm-4 col-md-4 col-lg-4",4,"ngFor","ngForOf"],["class","col-100 my-3 text-center",4,"ngIf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotesBox"],[1,"qouteId"],[1,"btn","btn-sm",3,"ngClass"],[1,"leadsCustomer"],[1,"customerDetails"],[1,"quotesPro"],[1,"timeLineMain"],[1,"timeLine"],[1,"viewMore"],["href","javascript:void(0)",3,"click"],[1,"main_btn","text-center","mt-3"],[1,"btn","btn-success",3,"routerLink","queryParams"],[1,"col-100","my-3","text-center"],[1,"prod","grid-view"],[1,"item","first"],[1,"leadsDetails"],["infiniteScroll","",1,"table-row","table-responsive","fix-headertbl","request_sample",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[3,"ngClass","class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"col0",3,"ngClass"],[1,"col1",3,"ngClass"],["href","javascript:void(0)"],[1,"col2",3,"ngClass"],[1,"col3",3,"ngClass"],[1,"col4",3,"ngClass"],[1,"col5",3,"ngClass"],["href","javascript:void(0)",1,"btn","underline-none",3,"ngClass"],["class","text-success w-70 d-inline-block  underline-none viewText mr-1","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","text-success  w-70 d-inline-block underline-none viewText mr-1","href","javascript:void(0)",3,"routerLink",4,"ngIf"],["class","text-success underline-none viewText mr-1",3,"routerLink","queryParams",4,"ngIf"],["href","javascript:void(0)",1,"text-success","w-70","d-inline-block","underline-none","viewText","mr-1",3,"routerLink"],[1,"text-success","underline-none","viewText","mr-1",3,"routerLink","queryParams"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"My Quotes"),t.qZA(),t.TgZ(4,"span")(5,"div",2)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return i.exportDetails()}),t._UZ(8,"i",5),t._uU(9," Export Details"),t.qZA(),t.YNc(10,w,2,0,"span",6),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"i",9),t.NdJ("click",function(){return i.gridView=!1}),t.qZA(),t.TgZ(14,"i",10),t.NdJ("click",function(){return i.gridView=!0}),t.qZA()()(),t.TgZ(15,"div",11)(16,"div",12)(17,"button",13),t._UZ(18,"img",14),t._uU(19," Manage Column "),t.qZA(),t.TgZ(20,"div",15)(21,"div",16),t.YNc(22,U,5,4,"div",17),t.qZA()()()()()()(),t.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"div",25)(31,"input",26),t.NdJ("keyup",function(a){return i.searchLeads(a)}),t.qZA(),t.TgZ(32,"div",27)(33,"button",28),t._UZ(34,"i",29),t.qZA()()()()(),t.TgZ(35,"div",30)(36,"div",24)(37,"select",31),t.NdJ("change",function(a){return i.filterByProduct(a)}),t.TgZ(38,"option",32),t._uU(39,"Product"),t.qZA(),t.YNc(40,F,2,2,"option",33),t.qZA()()(),t.TgZ(41,"div",34)(42,"div",24)(43,"select",31),t.NdJ("change",function(a){return i.filterByStatus(a)}),t.TgZ(44,"option",32),t._uU(45,"Quote Status"),t.qZA(),t.TgZ(46,"option",35),t._uU(47,"Quoted"),t.qZA(),t.TgZ(48,"option",36),t._uU(49,"Archived"),t.qZA(),t.TgZ(50,"option",37),t._uU(51,"Expired"),t.qZA()()()(),t.TgZ(52,"div",38)(53,"div",39),t._UZ(54,"input",40),t.TgZ(55,"span",41),t.NdJ("click",function(a){return i.openCalendar(a)}),t._UZ(56,"i",42),t.qZA()()()()()(),t.TgZ(57,"div",43)(58,"div",44),t.YNc(59,N,6,4,"div",45),t.YNc(60,M,13,6,"div",46),t.qZA()()()()(),t.TgZ(61,"div",47)(62,"div",48)(63,"div",49)(64,"div",50)(65,"div",51)(66,"h1"),t._uU(67),t.TgZ(68,"span"),t._uU(69),t.qZA()(),t._UZ(70,"button",52),t.qZA(),t.TgZ(71,"div",53)(72,"div",54)(73,"table",55)(74,"thead")(75,"tr")(76,"th"),t._uU(77,"Timeline "),t.qZA(),t.TgZ(78,"th"),t._uU(79," Date "),t.qZA()()(),t.TgZ(80,"tbody")(81,"tr")(82,"td",56),t._uU(83,"Quote Requested on"),t.qZA(),t.TgZ(84,"td"),t._uU(85),t.ALo(86,"date"),t.qZA()(),t.TgZ(87,"tr")(88,"td",56),t._uU(89,"Quote Created on "),t.qZA(),t.TgZ(90,"td"),t._uU(91),t.ALo(92,"date"),t.qZA()(),t.TgZ(93,"tr")(94,"td",56),t._uU(95,"Quote Valid upto "),t.qZA(),t.TgZ(96,"td"),t._uU(97),t.ALo(98,"date"),t.qZA()()()()()()()()()(),t._UZ(99,"ngx-ui-loader",57)),2&n&&(t.xp6(7),t.Q6J("disabled",i.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(24,j,i.isLoading)),t.xp6(2),t.Q6J("ngIf",!i.isLoading),t.xp6(3),t.Q6J("ngClass",t.VKq(26,P,!i.gridView)),t.xp6(1),t.Q6J("ngClass",t.VKq(28,P,i.gridView)),t.xp6(8),t.Q6J("ngForOf",i.columns),t.xp6(18),t.Q6J("ngForOf",i.myProducts),t.xp6(19),t.Q6J("ngIf",i.gridView),t.xp6(1),t.Q6J("ngIf",!i.gridView),t.xp6(7),t.hij("Quote ID: ",null==i.quoteDetail?null:i.quoteDetail.quoteId," "),t.xp6(2),t.hij("Converted to order ID: ",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productId,""),t.xp6(16),t.Oqu(t.xi3(86,15,null==i.quoteDetail?null:i.quoteDetail.quoteRequestedDate,"dd MMMM YYYY")),t.xp6(6),t.Oqu(t.xi3(92,18,null==i.quoteDetail?null:i.quoteDetail.createdAt,"dd MMMM YYYY")),t.xp6(6),t.Oqu(t.xi3(98,21,null==i.quoteDetail?null:i.quoteDetail.validUpto,"dd MMMM YYYY")),t.xp6(2),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,h.rH,m.mk,m.sg,m.O5,l.YN,l.Kr,l.Wl,l.JJ,l.On,y.Ry,m.uU],styles:[".colHide[_ngcontent-%COMP%]{display:none}"]})}return o})();var Q=u(15861),B=u(69862),K=u(63049),G=u(61379),H=u(6530),X=u(4213),C=u(48983);function z(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij("",null==e.leadDraft||null==e.leadDraft.customer?null:e.leadDraft.customer.companyName,",")}}function tt(o,s){if(1&o&&(t.ynx(0),t._uU(1),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.AsE(", Customer Name: ",null==e.lead||null==e.lead.customerLogin?null:e.lead.customerLogin.firstName," ",null==e.lead||null==e.lead.customerLogin?null:e.lead.customerLogin.lastName,"")}}function et(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function ot(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",null==e?null:e._id),t.xp6(1),t.gL8(" ",null==e?null:e.warehouseName,"",null==e?null:e.factoryName,",",null==e?null:e.addressLine1,",",null==e?null:e.cityName,",",null==e||null==e.state?null:e.state.name,",",null==e||null==e.country?null:e.country.name," ")}}function it(o,s){1&o&&(t.TgZ(0,"td")(1,"div",91)(2,"div",21)(3,"div",92)(4,"label",93),t._uU(5,"Lower Limit"),t.qZA(),t.TgZ(6,"div",10),t._UZ(7,"input",94),t.TgZ(8,"span"),t._uU(9,"%"),t.qZA()()(),t.TgZ(10,"div",92)(11,"label",95),t._uU(12,"Upper Limit"),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"input",96),t.TgZ(15,"span"),t._uU(16,"%"),t.qZA()()()()()())}function nt(o,s){1&o&&(t.TgZ(0,"td",97),t._uU(1," ---- "),t.qZA())}function st(o,s){if(1&o&&(t.TgZ(0,"tr",27)(1,"td"),t._UZ(2,"input",88),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",89),t.qZA(),t.YNc(5,it,17,0,"td",9),t.YNc(6,nt,2,0,"td",90),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(5),t.Q6J("ngIf",e.value.hasOwnProperty("lowerTolerance")),t.xp6(1),t.Q6J("ngIf",!e.value.hasOwnProperty("lowerTolerance"))}}const rt=function(o){return{active:o}};function at(o,s){if(1&o&&(t.TgZ(0,"div",98),t._UZ(1,"img",99),t.qZA()),2&o){const e=s.$implicit;t.Q6J("ngClass",t.VKq(2,rt,0===s.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function lt(o,s){1&o&&(t.TgZ(0,"div",100)(1,"button",101),t._UZ(2,"span",102),t.TgZ(3,"span",103),t._uU(4,"Previous"),t.qZA()(),t.TgZ(5,"button",104),t._UZ(6,"span",105),t.TgZ(7,"span",103),t._uU(8,"Next"),t.qZA()()())}function ut(o,s){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function ct(o,s){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function dt(o,s){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function pt(o,s){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function mt(o,s){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function gt(o,s){if(1&o&&t._UZ(0,"img",122),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ht(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",109)(1,"span"),t.YNc(2,ut,1,2,"img",110),t.YNc(3,ct,1,1,"img",111),t.YNc(4,dt,1,1,"img",112),t.YNc(5,pt,1,1,"img",113),t.YNc(6,mt,1,1,"img",114),t.YNc(7,gt,1,1,"img",115),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.qZA(),t.TgZ(10,"div",39)(11,"a",40),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(12,"Download "),t._UZ(13,"img",116),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function _t(o,s){if(1&o&&(t.TgZ(0,"div",106)(1,"h1"),t._uU(2,"Artwork:"),t.qZA(),t.TgZ(3,"div",107),t.YNc(4,ht,14,7,"div",108),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.productArtworks)}}function ft(o,s){if(1&o&&t._UZ(0,"img",117),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function qt(o,s){if(1&o&&t._UZ(0,"img",118),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function vt(o,s){if(1&o&&t._UZ(0,"img",119),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Tt(o,s){if(1&o&&t._UZ(0,"img",120),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Zt(o,s){if(1&o&&t._UZ(0,"img",121),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ct(o,s){if(1&o&&t._UZ(0,"img",122),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function xt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",109)(1,"span"),t.YNc(2,ft,1,2,"img",110),t.YNc(3,qt,1,1,"img",111),t.YNc(4,vt,1,1,"img",112),t.YNc(5,Tt,1,1,"img",113),t.YNc(6,Zt,1,1,"img",114),t.YNc(7,Ct,1,1,"img",115),t.qZA(),t.TgZ(8,"h2"),t._uU(9),t.qZA(),t.TgZ(10,"div",39)(11,"a",40),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(12,"Download "),t._UZ(13,"img",123),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Dt(o,s){if(1&o&&(t.TgZ(0,"div",106)(1,"h1"),t._uU(2,"Additional Attachments:"),t.qZA(),t.TgZ(3,"div",107),t.YNc(4,xt,14,7,"div",108),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.productAttachments)}}function bt(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e," ")}}function yt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Shipping term is required. "),t.qZA())}function At(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,yt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.quotationsFormGroupControls.shippingTerms.errors.required)}}const g=function(o){return{"is-invalid":o}};function Pt(o,s){if(1&o&&(t.TgZ(0,"div",57)(1,"div",10)(2,"label"),t._uU(3," Shipping Terms"),t.qZA(),t.TgZ(4,"select",124)(5,"option",125),t._uU(6,"Select Shipping Term"),t.qZA(),t.YNc(7,bt,2,2,"option",13),t.qZA(),t.YNc(8,At,2,1,"div",60),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(3,g,e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)),t.xp6(3),t.Q6J("ngForOf",e.shippingTermsList),t.xp6(1),t.Q6J("ngIf",e.quotationFormSubmittied&&e.quotationsFormGroupControls.shippingTerms.errors)}}function Qt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",127)(1,"div",51),t._UZ(2,"input",128),t._uU(3),t.qZA(),t.TgZ(4,"div",129)(5,"div",130),t._uU(6," \xb1 "),t._UZ(7,"input",131),t._uU(8," % "),t.qZA(),t.TgZ(9,"div",52)(10,"input",132),t.NdJ("keydown",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.restrictToInteger(i))}),t.qZA()(),t.TgZ(11,"div",52)(12,"div",74)(13,"span",133),t._uU(14),t.qZA(),t.TgZ(15,"input",134),t.NdJ("keyup",function(){const r=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.changePrice(r))}),t.qZA()()(),t.TgZ(16,"div",52)(17,"div",74)(18,"span",133),t._uU(19),t.qZA(),t._UZ(20,"input",135),t.qZA()(),t.TgZ(21,"div",52),t._UZ(22,"input",136),t.qZA(),t.TgZ(23,"div",52),t._UZ(24,"input",137),t.qZA(),t.TgZ(25,"div",52),t._UZ(26,"input",138),t.qZA()()()}if(2&o){const e=s.$implicit,n=t.oxw();t.Q6J("formGroup",n.getFormGroup(e)),t.xp6(3),t.hij(" ",null==n.leadDraft||null==n.leadDraft.customerProducts?null:n.leadDraft.customerProducts.quantityType," "),t.xp6(11),t.Oqu(null==n.leadDraft?null:n.leadDraft.currency),t.xp6(5),t.Oqu(null==n.leadDraft?null:n.leadDraft.currency)}}function wt(o,s){if(1&o&&(t.TgZ(0,"h6"),t._uU(1),t.TgZ(2,"span"),t._uU(3,"Notified by Customer"),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.hij("Case Pack: ",null==e.leadDraft||null==e.leadDraft.customerProducts||null==e.leadDraft.customerProducts.productForm?null:e.leadDraft.customerProducts.productForm.casePack," ")}}function Ut(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Case Pack is required. "),t.qZA())}function Ft(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,Ut,2,0,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.casePack.errors.required)}}function It(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",57)(1,"div",10)(2,"label"),t._uU(3," Case Pack"),t.qZA(),t.TgZ(4,"input",139),t.NdJ("keyup",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.changeCasepack(i))}),t.qZA(),t.YNc(5,Ft,2,1,"div",60),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.casePack.errors)),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.casePack.errors)}}function kt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Valid Upto date is required. "),t.qZA())}function St(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,kt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.validUpto.errors.required)}}function Nt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Length is required. "),t.qZA())}function Jt(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,Nt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.length.errors.required)}}function Yt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Breadth is required. "),t.qZA())}function Ot(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,Yt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.breadth.errors.required)}}function Lt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Height is required. "),t.qZA())}function Vt(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,Lt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.height.errors.required)}}function Rt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Gross weight is required. "),t.qZA())}function Et(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,Rt,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.grossWeight.errors.required)}}function Mt(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Shipping Address "),t.qZA())}function jt(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port"),t.qZA())}function Wt(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port"),t.qZA())}function Bt(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function $t(o,s){if(1&o&&(t.TgZ(0,"select",143)(1,"option",125),t._uU(2,"Select"),t.qZA(),t.YNc(3,Bt,3,4,"option",13),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.nearestPortArr)}}function Kt(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",t.lcZ(2,2,e)," ")}}function Gt(o,s){if(1&o&&(t.TgZ(0,"select",143)(1,"option",125),t._uU(2,"Select"),t.qZA(),t.YNc(3,Kt,3,4,"option",13),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.cifShippingPorts)}}function Ht(o,s){if(1&o&&(t.TgZ(0,"option",87),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.s9C("value",e._id),t.xp6(1),t.HOy(" ",e.name,", ",null==e?null:e.addressLine1,", ",null==e?null:e.addressLine2,", ",null==e?null:e.cityName," ")}}function Xt(o,s){if(1&o&&(t.TgZ(0,"select",143)(1,"option",125),t._uU(2,"Select"),t.qZA(),t.YNc(3,Ht,2,5,"option",13),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,g,e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)),t.xp6(3),t.Q6J("ngForOf",e.addresses)}}function zt(o,s){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function te(o,s){1&o&&(t.ynx(0),t._uU(1," Origin Port "),t.BQk())}function ee(o,s){1&o&&(t.ynx(0),t._uU(1," Shipping address "),t.BQk())}function oe(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,zt,2,0,"ng-container",9),t.YNc(2,te,2,0,"ng-container",9),t.YNc(3,ee,2,0,"ng-container",9),t._uU(4," is required. "),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms||"Delivered"===e.quotationsForm.value.shippingTerms)}}function ie(o,s){if(1&o&&(t.TgZ(0,"div",144),t.YNc(1,oe,5,3,"div",9),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.packagingFormControls.shippingAddress.errors.required)}}function ne(o,s){if(1&o&&(t.TgZ(0,"div",140)(1,"div",10),t.YNc(2,Mt,2,0,"label",9),t.YNc(3,jt,2,0,"label",9),t.YNc(4,Wt,2,0,"label",9),t.YNc(5,$t,4,4,"select",141),t.YNc(6,Gt,4,4,"select",141),t.YNc(7,Xt,4,4,"select",141),t.YNc(8,ie,2,1,"div",142),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms||"Delivered"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","FOB"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","CIF"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf","DDU"===e.quotationsForm.value.shippingTerms||"DDP"===e.quotationsForm.value.shippingTerms||"Delivered"===e.quotationsForm.value.shippingTerms),t.xp6(1),t.Q6J("ngIf",e.packagingFormSubmittied&&e.packagingFormControls.shippingAddress.errors)}}function se(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," PPS Quantity is required. "),t.qZA())}function re(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,se,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleQuantity.errors.required)}}function ae(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Production Lead Time is required. "),t.qZA())}function le(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,ae,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleProductionLeadTime.errors.required)}}function ue(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1," Grand Total Price "),t.qZA())}function ce(o,s){if(1&o&&(t.TgZ(0,"div",126),t.YNc(1,ue,2,0,"div",9),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ppsFormControls.prePurchaseSampleTotalPrice.errors.required)}}function de(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",54)(1,"div",55)(2,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submitPpsForm())}),t._uU(3," Save"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.hasPpsChanges)}}function pe(o,s){if(1&o&&(t.TgZ(0,"option",154),t._uU(1),t.qZA()),2&o){const e=s.$implicit,n=t.oxw(2);t.s9C("value",e),t.Q6J("disabled",n.isSelected(e)),t.xp6(1),t.hij(" ",e," ")}}function me(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",155),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,r=t.oxw();return t.KtG(r.removeOneTimeCost(i))}),t._UZ(1,"i",156),t.qZA()}}function ge(o,s){1&o&&t._UZ(0,"a",157)}function he(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",158),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addItem())}),t._UZ(1,"i",159),t.qZA()}}function _e(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",145)(1,"div",69)(2,"div",10)(3,"select",146)(4,"option",125),t._uU(5,"Select Cost"),t.qZA(),t.YNc(6,pe,2,3,"option",147),t.qZA()()(),t.TgZ(7,"div",69)(8,"div",10)(9,"div",74)(10,"span",75),t._uU(11),t.qZA(),t.TgZ(12,"input",148),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.totalOneTimeCost())}),t.qZA()()()(),t.TgZ(13,"div",149)(14,"div",10)(15,"div",150),t.YNc(16,me,2,0,"a",151),t.YNc(17,ge,1,0,"a",152),t.YNc(18,he,2,0,"a",153),t.qZA()()()()}if(2&o){const e=s.$implicit,n=s.last,i=t.oxw();t.Q6J("formGroup",i.getFormGroup(e)),t.xp6(6),t.Q6J("ngForOf",i.costsList),t.xp6(5),t.Oqu(null==i.leadDraft?null:i.leadDraft.currency),t.xp6(5),t.Q6J("ngIf",i.oneTimeCostFormControls.controls.length>1),t.xp6(1),t.Q6J("ngIf",!n),t.xp6(1),t.Q6J("ngIf",n)}}const x=function(o){return{"fa-spin fa-spinner":o}};let fe=(()=>{class o{constructor(e,n,i,r,a,p,fo,qo,vo,To,Zo){this.routes=e,this.PS=n,this.QS=i,this.ngxService=r,this._notify=a,this.FB=p,this.LS=fo,this.route=qo,this.FS=vo,this._US=To,this.WS=Zo,this.currentDate=d().format("YYYY-MM-DD"),this.factoryWarehouseSelectedId=null,this.factoryWarehouseSelectedType="",this.selectedLeadId="",this.selectedProductId="",this.packagingFormSubmittied=!1,this.ppsFormSubmittied=!1,this.quotationFormSubmittied=!1,this.toleranceFormSubmittied=!1,this.isLoading=!1,this.totalOneTimeCostNum=0,this.fields=[],this.moment=d(),this.selectedImage=0,this.hasToleranceChanges=!1,this.hasQuoteChanges=!1,this.hasPpsChanges=!1,this.hasOneTimeChanges=!1,this.hasPackagingChanges=!1,this.nearestPortArr=[],this.isPackageLoading=!1,this.isLoadingQuote=!1,this.isLoadingTolerance=!1,this.productArtworks=[],this.productAttachments=[],this.isCasePackNotfied=!1,this.checkppsformdisabled=!1,this.isToleranceDraft=!1,this.isOneTimeCostDraft=!1,this.isQuotationDraft=!1,this.packagingDraft=!1,this.isPpsDraft=!1,this.cifShippingPorts=[],this.addresses=[]}ngOnInit(){this.initForm(),this.routes.params.subscribe(e=>{e&&e.id&&(this.quoteId=e.id,this.getRequoteDetails())}),this._US.getUser().subscribe(e=>{this.currentVendor=e.user,this.shippingTermString=this.currentVendor.ownVendor?"":"FOB",this.currentVendor.ownVendor||this.quotationsForm.get("shippingTerms")?.setValue("FOB")}),this.oneTimeCost(),this.shippingTerm(),this.getFactoryList(),this.getWarehouseList()}ngAfterViewInit(){this.quotationsForm.valueChanges.subscribe(e=>{e.shippingTerms&&(this.shippingTermString=e.shippingTerms,"Ex-Factory"!==e.shippingTerms?this.packagingForm.addControl("shippingAddress",new l.NI("",l.kI.required)):this.packagingForm.removeControl("shippingAddress"),"Ex-Factory"!==e.shippingTerms&&this.packagingForm.get("shippingAddress")?.reset(this.lead?.shippingAddress?this.lead?.shippingAddress:"")),this.hasQuoteChanges=!this.areValuesEqual(this.quotationsForm.value,this.previousQuoteFormValue)})}changeOfFactoryWarehouse(e){this.factoryWarehouseSelectedId=e?.target?.value;let n=this.factoryList.find(r=>r?._id===e?.target?.value),i=this.warehouseList.find(r=>r?._id===e?.target?.value);this.nearestPortArr=[],n&&(this.nearestPortArr.push(n.nearestPort),this.factoryWarehouseSelectedType="factory"),i&&(this.nearestPortArr.push(i.nearestPort),this.factoryWarehouseSelectedType="warehouse")}addQueryParams(){return new B.LE}getFactoryList(){this.ngxService.start(),this.FS.factoryList(this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.factoryList=e?.meta?.status?e.data:[]})}areValuesEqual(e,n){return JSON.stringify(e)===JSON.stringify(n)}getWarehouseList(){this.ngxService.start(),this.WS.warehouseList(this.addQueryParams()).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{this.warehouseList=e?.meta?.status?e.data:[]})}initForm(){this.ppsForm=this.FB.group({prePurchaseSampleQuantity:[{value:"",disabled:!0},l.kI.required],prePurchaseSampleProductionLeadTime:["",l.kI.required],prePurchaseSampleTotalPrice:["",l.kI.required]}),this.packagingForm=this.FB.group({casePack:["",l.kI.required],validUpto:["",l.kI.required],length:[0,l.kI.required],breadth:[0,l.kI.required],height:[0,l.kI.required],grossWeight:["",l.kI.required],shippingAddress:["",l.kI.required]}),this.oneTimeCostForm=this.FB.group({costsArray:new l.Oe([])}),this.quotationsForm=this.FB.group({shippingTerms:["",l.kI.required],quotationsArray:new l.Oe([])}),this.toleranceForm=this.FB.group({toleranceArray:new l.Oe([])}),this.toleranceForm.valueChanges.subscribe(e=>{this.hasToleranceChanges=!this.areValuesEqual(this.toleranceForm.value,this.previousToleranceFormValue)}),this.ppsForm.valueChanges.subscribe(e=>{const n=this.ppsForm.value;this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired&&(this.hasPpsChanges=!this.areValuesEqual(n,this.previousPpsFormValue))}),this.oneTimeCostForm.valueChanges.subscribe(e=>{this.hasOneTimeChanges=!this.areValuesEqual(this.oneTimeCostForm.value,this.previousOneTimeFormValue)}),this.packagingForm.valueChanges.subscribe(e=>{this.hasPackagingChanges=!this.areValuesEqual(this.packagingForm.value,this.previousPackagingFormValue)})}get ppsFormControls(){return this.ppsForm.controls}get packagingFormControls(){return this.packagingForm.controls}get oneTimeCostFormControls(){return this.oneTimeCostForm.controls.costsArray}get quotationsFormControls(){return this.quotationsForm.controls.quotationsArray}get quotationsFormGroupControls(){return this.packagingForm.controls}get toleranceFormControls(){return this.toleranceForm.controls.toleranceArray}addTolerance(e,n,i){this.toleranceFormControls.push(this.tolegranceItem(e,n,i))}addQuotation(e,n){this.quotationsFormControls.push(this.quotationItem(e,n))}tolegranceItem(e,n,i){return this.FB.group(n?{name:e?.name,measurement:e?.measurement,...e.upperTolerance&&{upperTolerance:[e?.upperTolerance,l.kI.required],lowerTolerance:[e?.lowerTolerance,l.kI.required]},...e.upperTolerance&&{unit:[e?.unit,l.kI.required]}}:{name:e?.label,measurement:this.findValue(e.key),...e.isTolerance&&{upperTolerance:[i.upperLimit,l.kI.required],lowerTolerance:[i.lowerLimt,l.kI.required]},...e.isTolerance&&{unit:[i?.unit,l.kI.required]}})}findValue(e){return"object"==typeof this.lead?.customerProducts?.productForm[e]?`${this.lead?.customerProducts?.productForm[e].value} ${this.lead?.customerProducts?.productForm[e].unit}`:this.lead?.customerProducts?.productForm[e]}quotationItem(e,n){return this.FB.group({quantity:n?e?.quantity:e,quantityTolerance:n?e?.quantityTolerance:e,productionleadTime:n?e?.productionleadTime:"",pricePerPiece:n?e?.pricePerPiece:"",totalPrice:[{value:n?e?.totalPrice:"",disabled:!0}],totalCbm:[{value:n?e?.totalCbm:"",disabled:!0}],totalCartons:[{value:n?e?.totalCartons:"Carton"===this.lead?.customerProducts?.quantityType?e:0,disabled:!0}],totalWeight:[{value:n?e?.totalWeight:"",disabled:!0}]})}restrictToInteger(e){-1===["Backspace","ArrowLeft","ArrowRight","Tab","Delete"].indexOf(e.key)&&(e.key<"0"||e.key>"9")&&e.preventDefault()}createItem(e){return this.FB.group({name:e?e?.name:"",cost:e?e?.cost:""})}addItem(e){this.oneTimeCostFormControls.push(this.createItem(e))}removeOneTimeCost(e){this.oneTimeCostForm.controls.costsArray.removeAt(e),this.totalOneTimeCost()}changePrice(e){e.get("totalPrice")?.setValue(Number(e.value.pricePerPiece)*e.value.quantity)}changeCasepack(e){this.quotationsFormControls.controls.map(i=>{"CARTON"===this.lead?.customerProducts?.quantityType.toUpperCase()||i.get("totalCartons")?.setValue((e.target.value?i.value.quantity/Number(e.target.value):0).toFixed())})}changeWeight(e){this.quotationsFormControls.controls.map(n=>{n.get("totalWeight")?.setValue((n.getRawValue().totalCartons*Number(e.target.value)).toFixed())})}changeLbh(e){this.quotationsFormControls.controls.map(n=>{let i=Number(n.get("totalCartons")?.value);Number(this.packagingForm.get("length")?.value)&&Number(this.packagingForm.get("breadth")?.value)&&Number(this.packagingForm.get("height")?.value)&&n.get("totalCbm")?.setValue(Number(this.packagingForm.get("length")?.value||0)*Number(this.packagingForm.get("breadth")?.value||0)*Number(this.packagingForm.get("height")?.value||0)*16387064e-12*i)})}oneTimeCost(){this.ngxService.start(),this.QS.getAppConfigByKey("ONE_TIME_COST").pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?this.costsList=e.data.value.split("|").map(n=>n.trim()):this._notify.showError(e.meta.msg,"Error")})}isSelected(e){this.oneTimeCostForm.value.costsArray.map((n,i)=>n?.name===e)}totalOneTimeCost(){let e=0;this.oneTimeCostForm.value.costsArray.map((n,i)=>{e+=n?.cost}),this.totalOneTimeCostNum=e}submitOneTimeForm(){if(this.oneTimeCostForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},oneTimeCost:this.oneTimeCostForm.value.costsArray,totalOneTimeCost:this.totalOneTimeCostNum};this.QS.requoteAddOneTimeCost(e).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}getFormGroup(e){return e}shippingTerm(){this.ngxService.start(),this.QS.getAppConfigByKey("SHIPPING_TERMS_VALUE").pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.shippingTermsList=e.data.value.split("|"),this.shippingTermsList=this.shippingTermsList.map(n=>n.trim())):this._notify.showError(e.meta.msg,"Error")})}submitPackagingForm(){if(this.packagingForm.valid){this.isPackageLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},casePack:this.packagingForm.value.casePack,validUpto:d(this.packagingForm.value.validUpto,["DD-MM-YYYY"]).valueOf(),dimension:{length:this.packagingForm.value.length,breadth:this.packagingForm.value.breadth,height:this.packagingForm.value.height},grossWeight:this.packagingForm.value.grossWeight,shippingAddress:this.packagingForm.value.shippingAddress};this.QS.requoteAddPackaging(e).pipe((0,c.x)(()=>{this.isPackageLoading=!1})).subscribe(n=>{n.meta.status?(this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this._notify.showSuccess(n.meta.msg,"Success")):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.packagingFormSubmittied=!0}submitPpsForm(){if(this.ppsForm.valid){this.isLoading=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},prePurchaseSampleQuantity:this.ppsForm.value.prePurchaseSampleQuantity,prePurchaseSampleProductionLeadTime:this.ppsForm.value.prePurchaseSampleProductionLeadTime,prePurchaseSampleTotalPrice:this.ppsForm.value.prePurchaseSampleTotalPrice};this.QS.requoteAddPps(e).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.ppsFormSubmittied=!0}toTimeStamp(e){return Date.parse(e)/1e3}submitQuotation(){if(this.quotationsForm.valid){this.isLoadingQuote=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},quotation:this.quotationsForm.getRawValue().quotationsArray,shippingTerms:this.quotationsForm.getRawValue().shippingTerms};this.QS.requoteAddQuotation(e).pipe((0,c.x)(()=>{this.isLoadingQuote=!1})).subscribe(n=>{n.meta.status?(this.previousQuoteFormValue=this.quotationsForm.getRawValue(),this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this._notify.showSuccess(n.meta.msg,"Success")):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.quotationFormSubmittied=!0}saveTolerance(){if(this.toleranceForm.valid){this.isLoadingTolerance=!0;let e={_id:this.quoteId,..."factory"===this.factoryWarehouseSelectedType&&{factoryId:this.factoryWarehouseSelectedId},..."warehouse"===this.factoryWarehouseSelectedType&&{warehouseId:this.factoryWarehouseSelectedId},productTolerance:this.toleranceForm.value.toleranceArray};this.QS.requoteAddTolerance(e).pipe((0,c.x)(()=>{this.isLoadingTolerance=!1})).subscribe(n=>{n.meta.status?this._notify.showSuccess(n.meta.msg,"Success"):this._notify.showWarning(n.meta.msg,"Error")},n=>{this._notify.showError("Something Went Wrong","Error")})}else this.toleranceFormSubmittied=!0}getLeadDetail(){this.lead=this.leadDraft,this.isCasePackNotfied=this.lead?.customerProducts.productForm.hasOwnProperty("casePack")&&""!=this.lead?.customerProducts.productForm.casePack.value,this.isCasePackNotfied&&this.packagingForm.get("casePack")?.setValue(this.lead?.customerProducts.productForm.casePack),this.lead?.customerProducts?.productArtworks.map(e=>{let n=e.split("/"),i=this.getFileType(n[n.length-1]);delete i.type,this.productArtworks.push({url:e,name:n[n.length-1],...i})}),this.lead?.customerProducts?.productAttachments.map(e=>{let n=e.split("/"),i=this.getFileType(n[n.length-1]);delete i.type,this.productAttachments.push({url:e,name:n[n.length-1],...i})})}getDetail(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId,!1).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status&&(this.leadDraft=n?.data,this.addresses=this.leadDraft.userAddresses,this.cifShippingPorts=this.leadDraft.userAddresses.map(i=>i.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.selectedLeadId=this.leadDraft?.leadId,this.factoryWarehouseSelectedType=this.leadDraft.factoryId?"factory":"warehouse",this.leadDraft?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.factory.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.factoryId):this.leadDraft.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.warehouseId),this.isToleranceDraft||(this.leadDraft?.productTolerance.map((i,r)=>{this.addTolerance(i,!0)}),this.previousToleranceFormValue=this.toleranceForm.value,this.hasToleranceChanges=!this.areValuesEqual(this.previousToleranceFormValue,this.previousToleranceFormValue)),this.isQuotationDraft||this.leadDraft?.quotation.map((i,r)=>{this.addQuotation(i,!0)}),!this.isPpsDraft&&this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired?(this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.leadDraft?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.leadDraft?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.leadDraft?.prePurchaseSampleTotalPrice}),this.previousPpsFormValue=this.ppsForm.value,this.hasPpsChanges=!this.areValuesEqual(this.previousPpsFormValue,this.previousPpsFormValue)):(this.ppsForm.disable(),this.checkppsformdisabled=!0),this.packagingDraft||(this.packagingForm.patchValue({casePack:this.leadDraft?.casePack,validUpto:d(this.leadDraft?.validUpto).format("DD-MM-YYYY"),length:this.leadDraft?.dimension?.length,breadth:this.leadDraft?.dimension?.breadth,height:this.leadDraft?.dimension?.height,grossWeight:this.leadDraft?.grossWeight,shippingAddress:this.leadDraft?.shippingAddress}),this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this.hasPackagingChanges=d(this.leadDraft?.validUpto).isBefore(d())),this.leadDraft?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.leadDraft?.shippingTerms),this.previousQuoteFormValue=this.quotationsForm.value,this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this.leadDraft?.isOneTimeCostSubmitted||(this.isOneTimeCostDraft=!0,this.leadDraft?.oneTimeCost.map((i,r)=>{this.addItem(i)}),this.previousOneTimeFormValue=this.oneTimeCostForm.value,this.hasOneTimeChanges=!this.areValuesEqual(this.previousOneTimeFormValue,this.previousOneTimeFormValue)),this.totalOneTimeCost()),this.initDatePicker()})}initDatePicker(){$(".validUpToDatePicker").dateRangePicker({format:"DD-MM-YYYY",singleDate:!0,showShortcuts:!1,singleMonth:!0,autoClose:!0,startDate:d().add(1,"days").format("DD-MM-YYYY")}).on("datepicker-change",(e,n)=>{this.packagingForm.get("validUpto")?.setValue(d(n.date1).format("DD-MM-YYYY"))})}getRequoteDetails(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId,!0).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(n=>{n.meta.status?(this.leadDraft=n?.data,this.addresses=this.leadDraft.userAddresses,this.cifShippingPorts=this.leadDraft.userAddresses.map(i=>i.mappedPort),this.cifShippingPorts=[...new Set(this.cifShippingPorts)],this.selectedLeadId=this.leadDraft?.leadId,this.factoryWarehouseSelectedType=this.leadDraft.factoryId?"factory":"warehouse",this.leadDraft?.factoryId?(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.factory.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.factoryId):this.leadDraft.warehouseId&&(this.nearestPortArr=[],this.nearestPortArr.push(this.leadDraft.warehouse.nearestPort),this.factoryWarehouseSelectedId=this.leadDraft?.warehouseId),this.getLeadDetail(),!this.leadDraft?.isProductToleranceSubmitted&&this.leadDraft?.productTolerance.length&&(this.isToleranceDraft=!0,this.leadDraft?.productTolerance.map((i,r)=>{this.addTolerance(i,!0)}),this.previousToleranceFormValue=this.toleranceForm.value,this.hasToleranceChanges=!this.areValuesEqual(this.previousToleranceFormValue,this.previousToleranceFormValue)),this.leadDraft?.isQuotationSubmitted&&(this.isQuotationDraft=!0,this.leadDraft?.quotation.map((i,r)=>{this.addQuotation(i,!0)})),this.leadDraft?.customerProducts?.isPrePurchaseSampleRequired?(this.isPpsDraft=!0,this.ppsForm.patchValue({prePurchaseSampleProductionLeadTime:this.leadDraft?.prePurchaseSampleProductionLeadTime,prePurchaseSampleQuantity:this.leadDraft?.prePurchaseSampleQuantity,prePurchaseSampleTotalPrice:this.leadDraft?.prePurchaseSampleTotalPrice}),this.previousPpsFormValue=this.ppsForm.value,this.hasPpsChanges=!this.areValuesEqual(this.previousPpsFormValue,this.previousPpsFormValue)):(this.ppsForm.disable(),this.checkppsformdisabled=!0),this.leadDraft?.isPackagingDetailsSubmitted&&(this.packagingDraft=!0,this.packagingForm.patchValue({casePack:this.leadDraft?.casePack,validUpto:d(this.leadDraft?.validUpto).format("DD-MM-YYYY"),length:this.leadDraft?.dimension?.length,breadth:this.leadDraft?.dimension?.breadth,height:this.leadDraft?.dimension?.height,grossWeight:this.leadDraft?.grossWeight,shippingAddress:this.leadDraft?.shippingAddress}),this.previousPackagingFormValue=this.packagingForm.value,this.hasPackagingChanges=!this.areValuesEqual(this.previousPackagingFormValue,this.previousPackagingFormValue),this.hasPackagingChanges=d(this.leadDraft?.validUpto).isBefore(d())),this.leadDraft?.shippingTerms&&this.quotationsForm.get("shippingTerms")?.setValue(this.leadDraft?.shippingTerms),this.previousQuoteFormValue=this.quotationsForm.value,this.hasQuoteChanges=!this.areValuesEqual(this.previousQuoteFormValue,this.previousQuoteFormValue),this.leadDraft?.isOneTimeCostSubmitted&&(this.isOneTimeCostDraft=!0,this.leadDraft?.oneTimeCost.map((i,r)=>{this.addItem(i)}),this.previousOneTimeFormValue=this.oneTimeCostForm.value,this.hasOneTimeChanges=!this.areValuesEqual(this.previousOneTimeFormValue,this.previousOneTimeFormValue),this.totalOneTimeCost()),this.getDetail()):this.getDetail()})}submitQuote(){this.isLoading=!0,this.QS.requoteSubmit(this.quoteId).pipe((0,c.x)(()=>{this.isLoading=!1})).subscribe(e=>{e.meta.status?(this._notify.showSuccess(e.meta.msg,"Success"),this.route.navigate(["/quotes"])):this._notify.showWarning(e.meta.msg,"Error")},e=>{this._notify.showError("Something Went Wrong","Error")})}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}downloadImage(e){return(0,Q.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),a=document.createElement("a"),p=window.URL.createObjectURL(i);a.href=p,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e)})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(h.gz),t.Y36(b.s),t.Y36(q.P),t.Y36(_.LA),t.Y36(v.c),t.Y36(l.qu),t.Y36(K.C),t.Y36(h.F0),t.Y36(G.L),t.Y36(H.K),t.Y36(X.l))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-requote"]],decls:259,vars:81,consts:[["id","printQuoteNowPage",1,"dashboardMain"],[1,"page-header","product-page-header","d-flex","justify-content-between"],[1,"quotesHeader"],[1,"backBtn","printPageButton"],["href","javascript:history.back()"],[1,"bi","bi-arrow-left-short"],[1,"formBox","form-box"],[1,"text-success"],[1,"profile-info"],[4,"ngIf"],[1,"form-group"],[1,"form-control","form-ctrl",3,"ngModel","ngModelChange","change"],["label","Factory"],[3,"value",4,"ngFor","ngForOf"],["label","Warehouse"],[1,"dropDownExport"],[1,"rightColumnDrop","mt-4","printPageButton"],["printSectionId","printQuoteNowPage","ngxPrint","",1,"btn","btn-submit","btn-outline-success",2,"width","222px",3,"useExistingCss"],["src","assets/images/download.png","alt","",1,"me-2",2,"max-width","20px"],[1,"productDetailsPage"],[1,"login-white-box","bg-white","white-well"],[1,"row"],[1,"col-12","col-sm-8","col-md-8","col-lg-8"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],[1,"table-responsive"],[1,"tableBorder"],[3,"formGroup"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"productSliderBox"],[1,"main_btn","text-end","printPageButton"],[1,"btn","btn-success",3,"disabled","click"],[1,"fa",3,"ngClass"],[1,"machineSlider"],["id","robotcarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item active",3,"ngClass",4,"ngFor","ngForOf"],["class","nextprev",4,"ngIf"],[1,"main_btn","printPageButton"],["href","javascript:void(0)",1,"btn","btn-default",3,"click"],["src","assets/images/download.png","alt",""],["class","atWorkBox",4,"ngIf"],[1,"bg-white","white-well"],[1,"login-white-box"],[1,"d-sm-inline-block","ms-3"],[1,"col-12","col-sm-12","col-md-12","col-lg-12",3,"formGroup"],["class","col-12 col-sm-4 col-md-4 col-lg-3",4,"ngIf"],[1,"tableBorder","tbldesignforlist"],[1,"tblflexcolumn"],[1,"tblflexcolumnin","pe-0"],[1,"listtitlegreen"],[1,"listcontentgreen"],["class","tblflexcolumnin  ps-0 ",3,"formGroup",4,"ngFor","ngForOf"],[1,"smallBtn","printPageButton"],[1,"main_btn","text-end"],[1,"packagingDetails","form-box"],[1,"col-12","col-sm-4","col-md-4","col-lg-3"],["type","text","placeholder","DD/MM/YYYY","formControlName","validUpto",1,"form-control","form-ctrl","validUpToDatePicker",3,"ngClass"],["src","assets/images/celender-icon.png","alt",""],["class","invalid-feedback",4,"ngIf"],[1,"threeBox"],["type","number","placeholder","L","formControlName","length",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","B","formControlName","breadth",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","H","formControlName","height",1,"form-control","form-ctrl",3,"ngClass","keyup"],["type","number","placeholder","Gross Weight","formControlName","grossWeight",1,"form-control","form-ctrl",3,"ngClass","keyup"],["class","col-12 col-sm-4 col-md-4 col-lg-9",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"ppsCost","form-box"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"table-responsive","fix-headertbl","d-none"],[1,"td_green"],["type","text","placeholder","PPS Quantity","formControlName","prePurchaseSampleQuantity",1,"form-control","form-ctrl",3,"ngClass"],["type","text","placeholder","Production Lead Time","formControlName","prePurchaseSampleProductionLeadTime",1,"form-control","form-ctrl",3,"ngClass"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","text","placeholder","Price","formControlName","prePurchaseSampleTotalPrice",1,"form-control","form-ctrl",3,"ngClass"],["class","smallBtn printPageButton",4,"ngIf"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],[1,"oneTimeCost"],[1,"bgGrayBox","mb-4"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"formOneTime"],["class","row",3,"formGroup",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"main_btn","text-end","mt-5","printPageButton"],["fgsColor","#3E916C",3,"hasProgressBar"],[3,"value"],["type","text","readonly","","formControlName","name",1,"form-control","form-ctrl","showastext"],["type","text","formControlName","measurement",1,"form-control","form-ctrl","showastext"],["class","text-center",4,"ngIf"],[1,"form-box"],[1,"col-md-6"],["for","lowerLimit",1,"mb-2"],["id","lowerLimit","type","number","placeholder","","formControlName","lowerTolerance",1,"form-control","form-ctrl"],["for","upperLimit",1,"mb-2"],["id","upperLimit","type","number","placeholder","","formControlName","upperTolerance",1,"form-control","form-ctrl"],[1,"text-center"],[1,"carousel-item","active",3,"ngClass"],["alt"," ",1,"d-block","w-100",3,"src"],[1,"nextprev"],["type","button","data-bs-target","#robotcarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#robotcarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"atWorkBox"],[1,"pdfDownloadBox"],["class","downLoadPdf",4,"ngFor","ngForOf"],[1,"downLoadPdf"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr-icon.png",3,"alt",4,"ngIf"],["src","assets/images/pdf-icon.png",3,"alt",4,"ngIf"],["src","assets/images/word-icon.png",3,"alt",4,"ngIf"],["src","assets/images/xls-icon.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator-icon.png",3,"alt",4,"ngIf"],["src","assets/images/download.png","alt","Download Art"],[3,"src","alt"],["src","assets/images/cdr-icon.png",3,"alt"],["src","assets/images/pdf-icon.png",3,"alt"],["src","assets/images/word-icon.png",3,"alt"],["src","assets/images/xls-icon.png",3,"alt"],["src","assets/images/illustrator-icon.png",3,"alt"],["src","assets/images/download.png","alt","Download Addiotional Attachment"],["formControlName","shippingTerms",1,"form-ctrl","form-control",3,"ngClass"],["value",""],[1,"invalid-feedback"],[1,"tblflexcolumnin","ps-0",3,"formGroup"],["type","text","placeholder","","readonly","","formControlName","quantity",1,"form-control","form-ctrl","showastext2",2,"width","50px"],[1,"form-box","formboxtbl"],[1,"listcontentgreen","tolerancetextfield"],["type","number","placeholder","","formControlName","quantityTolerance","placeholder","5",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","productionleadTime",1,"form-control","form-ctrl",3,"keydown"],[1,"input-group-text",2,"height","35px"],["type","number","placeholder","","formControlName","pricePerPiece",1,"form-control","form-ctrl",3,"keyup"],["type","number","placeholder","","formControlName","totalPrice",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalCbm",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalCartons",1,"form-control","form-ctrl"],["type","text","placeholder","","formControlName","totalWeight",1,"form-control","form-ctrl"],["type","number","placeholder","Case Pack","formControlName","casePack",1,"form-control","form-ctrl",3,"ngClass","keyup"],[1,"col-12","col-sm-4","col-md-4","col-lg-9"],["class","form-ctrl form-control","formControlName","shippingAddress",3,"ngClass",4,"ngIf"],["style","display: block;","class","invalid-feedback",4,"ngIf"],["formControlName","shippingAddress",1,"form-ctrl","form-control",3,"ngClass"],[1,"invalid-feedback",2,"display","block"],[1,"row",3,"formGroup"],["formControlName","name",1,"form-control","form-ctrl"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder"," 30.000","formControlName","cost",1,"form-control","form-ctrl",3,"change"],[1,"col-12","col-sm-2","col-md-2","col-lg-2","align-items-center","d-flex"],[1,"delete_add"],["href","javascript:void(0)",3,"click",4,"ngIf"],["style","border:none;","href","javascript:void(0)",4,"ngIf"],["class","add ms-2","href","javascript:void(0)",3,"click",4,"ngIf"],[3,"value","disabled"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-trash-o"],["href","javascript:void(0)",2,"border","none"],["href","javascript:void(0)",1,"add","ms-2",3,"click"],[1,"bi","bi-plus-lg"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"h3"),t._uU(8," Quoting "),t.TgZ(9,"span",7),t._uU(10),t.qZA()(),t.TgZ(11,"div",8)(12,"h6",7),t._uU(13),t.qZA(),t.TgZ(14,"h6")(15,"span",7),t.YNc(16,z,2,1,"span",9),t._uU(17),t.YNc(18,tt,2,2,"ng-container",9),t._uU(19),t.qZA()(),t.TgZ(20,"h6",7),t._uU(21),t.qZA()(),t.TgZ(22,"div",10)(23,"label"),t._uU(24,"Quoting From:"),t.qZA(),t.TgZ(25,"select",11),t.NdJ("ngModelChange",function(a){return i.factoryWarehouseSelectedId=a})("change",function(a){return i.changeOfFactoryWarehouse(a)}),t.TgZ(26,"optgroup",12),t.YNc(27,et,2,7,"option",13),t.qZA(),t.TgZ(28,"optgroup",14),t.YNc(29,ot,2,7,"option",13),t.qZA()()()(),t.TgZ(30,"div",15)(31,"span")(32,"div",16)(33,"button",17),t._UZ(34,"img",18),t._uU(35," Export as PDF "),t.qZA()()()()()(),t.TgZ(36,"div",19)(37,"div",20)(38,"div",21)(39,"div",22)(40,"div",23)(41,"h4",24),t._uU(42,"Product Details"),t.qZA()(),t.TgZ(43,"div",25)(44,"div",26)(45,"form",27)(46,"table")(47,"tbody")(48,"tr")(49,"th"),t._uU(50," Details"),t.qZA(),t.TgZ(51,"th"),t._uU(52,"Measurements "),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Tolerances "),t.qZA()(),t.YNc(55,st,7,3,"tr",28),t.qZA()()()()()(),t.TgZ(56,"div",29)(57,"div",30)(58,"div",31)(59,"button",32),t.NdJ("click",function(){return i.saveTolerance()}),t._UZ(60,"i",33),t._uU(61," Save "),t.qZA()(),t.TgZ(62,"div",34)(63,"div",35)(64,"div",36),t.YNc(65,at,2,4,"div",37),t.qZA(),t.YNc(66,lt,9,0,"div",38),t.qZA(),t.TgZ(67,"div",39)(68,"a",40),t.NdJ("click",function(){return i.downloadImage(null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg[i.selectedImage])}),t._uU(69,"Download "),t._UZ(70,"img",41),t.qZA()()(),t.YNc(71,_t,5,1,"div",42),t.YNc(72,Dt,5,1,"div",42),t.qZA()()()(),t.TgZ(73,"div",43)(74,"div",44)(75,"div",23)(76,"h4",24),t._uU(77,"Quotations"),t.qZA()(),t.TgZ(78,"span",45),t._uU(79),t.qZA(),t.TgZ(80,"div",21)(81,"div",46),t.YNc(82,Pt,9,5,"div",47),t.TgZ(83,"div",25)(84,"div",48)(85,"form")(86,"div",49)(87,"div",50)(88,"ul")(89,"li",51),t._uU(90,"Quantity"),t.qZA(),t.TgZ(91,"li",52),t._uU(92,"Quantity Tolerance:"),t.qZA(),t.TgZ(93,"li",52),t._uU(94,"Prod. Lead Time (In Days):"),t.qZA(),t.TgZ(95,"li",52),t._uU(96),t.qZA(),t.TgZ(97,"li",52),t._uU(98,"Total Price:"),t.qZA(),t.TgZ(99,"li",52),t._uU(100,"Total CBM:"),t.qZA(),t.TgZ(101,"li",52),t._uU(102,"Total Cartons:"),t.qZA(),t.TgZ(103,"li",52),t._uU(104,"Total Weight (In kg):"),t.qZA()()(),t.YNc(105,Qt,27,4,"div",53),t.qZA()()()(),t.TgZ(106,"div",54)(107,"div",55)(108,"button",32),t.NdJ("click",function(){return i.submitQuotation()}),t._UZ(109,"i",33),t._uU(110," Save "),t.qZA()()()()()()(),t.TgZ(111,"div",20)(112,"div",23)(113,"h4",24),t._uU(114,"Packaging Details"),t.qZA()(),t.TgZ(115,"div",56),t.YNc(116,wt,4,1,"h6",9),t.TgZ(117,"form",27)(118,"div",21),t.YNc(119,It,6,4,"div",47),t.TgZ(120,"div",57)(121,"div",10)(122,"label"),t._uU(123," Valid Upto"),t.qZA(),t._UZ(124,"input",58),t.TgZ(125,"span"),t._UZ(126,"img",59),t.qZA(),t.YNc(127,St,2,1,"div",60),t.qZA()(),t.TgZ(128,"div",57)(129,"div",10)(130,"label"),t._uU(131," Carton Dimensions "),t.TgZ(132,"span"),t._uU(133,"(in Inches)"),t.qZA()(),t.TgZ(134,"div",61)(135,"input",62),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA(),t.TgZ(136,"input",63),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA(),t.TgZ(137,"input",64),t.NdJ("keyup",function(a){return i.changeLbh(a)}),t.qZA()(),t.YNc(138,Jt,2,1,"div",60),t.YNc(139,Ot,2,1,"div",60),t.YNc(140,Vt,2,1,"div",60),t.qZA()(),t.TgZ(141,"div",57)(142,"div",10)(143,"label"),t._uU(144," Gross Weight "),t.TgZ(145,"span"),t._uU(146,"(per case in kg)"),t.qZA()(),t.TgZ(147,"input",65),t.NdJ("keyup",function(a){return i.changeWeight(a)}),t.qZA(),t.YNc(148,Et,2,1,"div",60),t.qZA()(),t.YNc(149,ne,9,7,"div",66),t.qZA()(),t.TgZ(150,"div",54)(151,"div",55)(152,"button",32),t.NdJ("click",function(){return i.submitPackagingForm()}),t._UZ(153,"i",33),t._uU(154," Save "),t.qZA()()()()(),t.TgZ(155,"div",21)(156,"div",67)(157,"div",68)(158,"div",21)(159,"div",69)(160,"div",44)(161,"div",23)(162,"h4",24),t._uU(163,"PPS"),t.qZA()(),t.TgZ(164,"div",70)(165,"div",26)(166,"table")(167,"tbody")(168,"tr")(169,"th"),t._uU(170," PPS Quantity"),t.qZA(),t.TgZ(171,"th"),t._uU(172,"10"),t.qZA()(),t.TgZ(173,"tr")(174,"td",71),t._uU(175,"Prod. Lead Time (In Days): "),t.qZA(),t.TgZ(176,"td"),t._uU(177,"45 Days "),t.qZA()(),t.TgZ(178,"tr")(179,"td",71),t._uU(180,"Grand Total Price: "),t.qZA(),t.TgZ(181,"td"),t._uU(182," $ 750.00"),t.qZA()()()()()(),t.TgZ(183,"div",44)(184,"form",27)(185,"div",21)(186,"div",67)(187,"div",10)(188,"label"),t._uU(189," PPS Quantity "),t.TgZ(190,"span"),t._uU(191,":"),t.qZA()(),t._UZ(192,"input",72),t.YNc(193,re,2,1,"div",60),t.qZA()(),t.TgZ(194,"div",67)(195,"div",10)(196,"label"),t._uU(197," Production Lead Time "),t.TgZ(198,"span"),t._uU(199,"(In Days):"),t.qZA()(),t._UZ(200,"input",73),t.YNc(201,le,2,1,"div",60),t.qZA()(),t.TgZ(202,"div",67)(203,"div",10)(204,"label"),t._uU(205," Grand Total Price:"),t.qZA(),t.TgZ(206,"div",74)(207,"span",75),t._uU(208),t.qZA(),t._UZ(209,"input",76),t.qZA(),t.YNc(210,ce,2,1,"div",60),t.qZA()()()(),t.YNc(211,de,4,1,"div",77),t.qZA()()(),t.TgZ(212,"div",78)(213,"div",44)(214,"div",23)(215,"h4",24),t._uU(216,"One Time Cost"),t.qZA()(),t.TgZ(217,"div",70)(218,"div",26)(219,"table")(220,"tbody")(221,"tr")(222,"th"),t._uU(223,"One Time Cost"),t.qZA(),t.TgZ(224,"th"),t._uU(225,"Cost"),t.qZA()(),t.TgZ(226,"tr")(227,"td",71),t._uU(228,"Cylinder Cost "),t.qZA(),t.TgZ(229,"td"),t._uU(230,"$ 30,000 "),t.qZA()(),t.TgZ(231,"tr")(232,"td",71),t._uU(233,"Total One Time Cost: "),t.qZA(),t.TgZ(234,"td"),t._uU(235,"$ 30,000"),t.qZA()()()()()(),t.TgZ(236,"div",44)(237,"div",79)(238,"div",80)(239,"div",21)(240,"div",81)(241,"h2"),t._uU(242,"One Time Cost"),t.qZA()(),t.TgZ(243,"div",81)(244,"h2"),t._uU(245,"Cost"),t.qZA()()()(),t.TgZ(246,"div",82)(247,"form",27),t.YNc(248,_e,19,6,"div",83),t.qZA()()(),t.TgZ(249,"h6",84),t._uU(250),t.qZA(),t.TgZ(251,"div",54)(252,"div",55)(253,"button",32),t.NdJ("click",function(){return i.submitOneTimeForm()}),t._uU(254," Save"),t.qZA()()()()()()()()()(),t.TgZ(255,"div",85)(256,"button",32),t.NdJ("click",function(){return i.submitQuote()}),t._uU(257," Submit Quote "),t.qZA()()()(),t._UZ(258,"ngx-ui-loader",86)),2&n&&(t.xp6(10),t.hij("(",null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productName,")"),t.xp6(3),t.hij("Product ID: ",null==i.leadDraft?null:i.leadDraft.customerProducts.customerProductId,""),t.xp6(3),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(1),t.hij(" Customer ID: ",null==i.leadDraft||null==i.leadDraft.customerLogin?null:i.leadDraft.customerLogin.customerId," "),t.xp6(1),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(1),t.hij(" (",null==i.leadDraft||null==i.leadDraft.customer||null==i.leadDraft.customer.countryObj?null:i.leadDraft.customer.countryObj.name,")"),t.xp6(2),t.AsE(" Vendor ID : ",null==i.leadDraft||null==i.leadDraft.vendor?null:i.leadDraft.vendor.vendorId,"(",null==i.leadDraft||null==i.leadDraft.factory?null:i.leadDraft.factory.cityName,") "),t.xp6(4),t.Q6J("ngModel",i.factoryWarehouseSelectedId),t.xp6(2),t.Q6J("ngForOf",i.factoryList),t.xp6(2),t.Q6J("ngForOf",i.warehouseList),t.xp6(4),t.Q6J("useExistingCss",!0),t.xp6(12),t.Q6J("formGroup",i.toleranceForm),t.xp6(10),t.Q6J("ngForOf",i.toleranceFormControls.controls),t.xp6(4),t.Q6J("disabled",!i.hasToleranceChanges||i.isLoadingTolerance),t.xp6(1),t.Q6J("ngClass",t.VKq(59,x,i.isLoadingTolerance)),t.xp6(5),t.Q6J("ngForOf",null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg),t.xp6(1),t.Q6J("ngIf",(null==i.leadDraft||null==i.leadDraft.product?null:i.leadDraft.product.productImg.length)>1),t.xp6(5),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(7),t.hij("Quote ",i.shippingTermString," Prices"),t.xp6(2),t.Q6J("formGroup",i.quotationsForm),t.xp6(1),t.Q6J("ngIf",i.currentVendor.ownVendor),t.xp6(14),t.hij("Price Per ",null==i.lead||null==i.lead.customerProducts?null:i.lead.customerProducts.quantityType,":"),t.xp6(9),t.Q6J("ngForOf",i.quotationsFormControls.controls),t.xp6(3),t.Q6J("disabled",!i.hasQuoteChanges||i.isLoadingQuote),t.xp6(1),t.Q6J("ngClass",t.VKq(61,x,i.isLoadingQuote)),t.xp6(7),t.Q6J("ngIf",i.isCasePackNotfied),t.xp6(1),t.Q6J("formGroup",i.packagingForm),t.xp6(2),t.Q6J("ngIf",!i.isCasePackNotfied),t.xp6(5),t.Q6J("ngClass",t.VKq(63,g,i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors)),t.xp6(3),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.validUpto.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(65,g,i.packagingFormSubmittied&&i.packagingFormControls.length.errors)),t.xp6(1),t.Q6J("ngClass",t.VKq(67,g,i.packagingFormSubmittied&&i.packagingFormControls.breadth.errors)),t.xp6(1),t.Q6J("ngClass",t.VKq(69,g,i.packagingFormSubmittied&&i.packagingFormControls.height.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.length.errors),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.breadth.errors),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.height.errors),t.xp6(7),t.Q6J("ngClass",t.VKq(71,g,i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors)),t.xp6(1),t.Q6J("ngIf",i.packagingFormSubmittied&&i.packagingFormControls.grossWeight.errors),t.xp6(1),t.Q6J("ngIf",i.packagingForm.value.hasOwnProperty("shippingAddress")),t.xp6(3),t.Q6J("disabled",!i.hasPackagingChanges||i.isPackageLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(73,x,i.isPackageLoading)),t.xp6(31),t.Q6J("formGroup",i.ppsForm),t.xp6(8),t.Q6J("ngClass",t.VKq(75,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleQuantity.errors),t.xp6(7),t.Q6J("ngClass",t.VKq(77,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleProductionLeadTime.errors),t.xp6(7),t.Oqu(null==i.leadDraft?null:i.leadDraft.currency),t.xp6(1),t.Q6J("ngClass",t.VKq(79,g,i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors)),t.xp6(1),t.Q6J("ngIf",i.ppsFormSubmittied&&i.ppsFormControls.prePurchaseSampleTotalPrice.errors),t.xp6(1),t.Q6J("ngIf",!i.checkppsformdisabled),t.xp6(36),t.Q6J("formGroup",i.oneTimeCostForm),t.xp6(1),t.Q6J("ngForOf",i.oneTimeCostFormControls.controls),t.xp6(2),t.AsE("Total One Time Cost: ",null==i.leadDraft?null:i.leadDraft.currency," ",i.totalOneTimeCostNum,""),t.xp6(3),t.Q6J("disabled",!i.hasOneTimeChanges),t.xp6(3),t.Q6J("disabled",i.hasOneTimeChanges||i.hasPpsChanges||i.hasPackagingChanges||i.hasQuoteChanges||i.hasToleranceChanges),t.xp6(2),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,m.mk,m.sg,m.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.sg,l.u,l.On,l.F,C.IH,m.rS],styles:[".btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{opacity:.4}.btn-success[_ngcontent-%COMP%]:disabled, .btn-success.disabled[_ngcontent-%COMP%]{background-color:#838383;border-color:#838383}@media print{.printPageButton[_ngcontent-%COMP%]{display:none!important}}"]})}return o})();const qe=function(o){return["/quotation/details",o]};function ve(o,s){if(1&o&&(t.TgZ(0,"div",66)(1,"div",14)(2,"a",67),t._uU(3,"View Previous Quotes "),t.qZA()()()),2&o){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(1,qe,null==e.quoteDetail?null:e.quoteDetail.previousQuoteId))}}function Te(o,s){1&o&&(t.TgZ(0,"sub",74),t._uU(1,"%"),t.qZA())}function Ze(o,s){1&o&&(t.TgZ(0,"sub",74),t._uU(1,"%"),t.qZA())}function Ce(o,s){if(1&o&&(t.TgZ(0,"td",26)(1,"div",69)(2,"div")(3,"label",70),t._uU(4,"Lower Limit"),t.qZA(),t.TgZ(5,"div",14)(6,"div",71),t._uU(7),t.YNc(8,Te,2,0,"sub",72),t.qZA()()(),t.TgZ(9,"div")(10,"label",73),t._uU(11,"Upper Limit"),t.qZA(),t.TgZ(12,"div",14)(13,"div",71),t._uU(14),t.YNc(15,Ze,2,0,"sub",72),t.qZA()()()()()),2&o){const e=t.oxw().$implicit;t.xp6(7),t.hij(" ",(null==e?null:e.lowerTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit)),t.xp6(6),t.hij(" ",(null==e?null:e.upperTolerance)||"--"," "),t.xp6(1),t.Q6J("ngIf","percentage"===(null==e?null:e.unit))}}function xe(o,s){1&o&&(t.TgZ(0,"td",26),t._uU(1," ---- "),t.qZA())}function De(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td",26),t._uU(4),t.qZA(),t.YNc(5,Ce,16,4,"td",68),t.YNc(6,xe,2,0,"td",68),t.qZA()),2&o){const e=s.$implicit;t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Oqu(null==e?null:e.measurement),t.xp6(1),t.Q6J("ngIf",null==e?null:e.lowerTolerance),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.lowerTolerance))}}const be=function(o){return{active:o}};function ye(o,s){if(1&o&&(t.TgZ(0,"div",77),t._UZ(1,"img",78),t.qZA()),2&o){const e=s.$implicit;t.Q6J("ngClass",t.VKq(2,be,0===s.index)),t.xp6(1),t.Q6J("src",e,t.LSH)}}function Ae(o,s){if(1&o&&(t.TgZ(0,"div",75),t.YNc(1,ye,2,4,"div",76),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.quoteDetail||null==e.quoteDetail.customerProduct?null:e.quoteDetail.customerProduct.productImages)}}function Pe(o,s){1&o&&(t.TgZ(0,"div",75)(1,"div",79),t._UZ(2,"img",80),t.qZA()())}function Qe(o,s){1&o&&(t.TgZ(0,"button",81),t._UZ(1,"span",82),t.TgZ(2,"span",83),t._uU(3,"Previous"),t.qZA()())}function we(o,s){1&o&&(t.TgZ(0,"button",84),t._UZ(1,"span",85),t.TgZ(2,"span",83),t._uU(3,"Next"),t.qZA()())}function Ue(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"a",86),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.downloadImage(null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productImg[i.selectedImage]))}),t._uU(1,"Download "),t._UZ(2,"i",87),t.qZA()}}function Fe(o,s){if(1&o&&t._UZ(0,"img",102),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Ie(o,s){if(1&o&&t._UZ(0,"img",103),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function ke(o,s){if(1&o&&t._UZ(0,"img",104),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Se(o,s){if(1&o&&t._UZ(0,"img",105),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ne(o,s){if(1&o&&t._UZ(0,"img",106),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Je(o,s){if(1&o&&t._UZ(0,"img",107),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ye(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",92)(1,"div",93)(2,"div",94),t.YNc(3,Fe,1,2,"img",95),t.YNc(4,Ie,1,1,"img",96),t.YNc(5,ke,1,1,"img",97),t.YNc(6,Se,1,1,"img",98),t.YNc(7,Ne,1,1,"img",99),t.YNc(8,Je,1,1,"img",100),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(13,"Download "),t._UZ(14,"i",87),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Oe(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",88)(2,"h6",89),t._uU(3,"Artwork:"),t.qZA()(),t.TgZ(4,"div",90),t.YNc(5,Ye,15,7,"div",91),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productArtworks)}}function Le(o,s){if(1&o&&t._UZ(0,"img",102),2&o){const e=t.oxw().$implicit;t.s9C("src",e.url,t.LSH),t.s9C("alt",e.name)}}function Ve(o,s){if(1&o&&t._UZ(0,"img",103),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Re(o,s){if(1&o&&t._UZ(0,"img",104),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Ee(o,s){if(1&o&&t._UZ(0,"img",105),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function Me(o,s){if(1&o&&t._UZ(0,"img",106),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function je(o,s){if(1&o&&t._UZ(0,"img",107),2&o){const e=t.oxw().$implicit;t.s9C("alt",e.name)}}function We(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",92)(1,"div",93)(2,"div",94),t.YNc(3,Le,1,2,"img",95),t.YNc(4,Ve,1,1,"img",96),t.YNc(5,Re,1,1,"img",97),t.YNc(6,Ee,1,1,"img",98),t.YNc(7,Me,1,1,"img",99),t.YNc(8,je,1,1,"img",100),t.qZA(),t.TgZ(9,"h6"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"a",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.downloadImage(r.url))}),t._uU(13,"Download "),t._UZ(14,"i",87),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(3),t.Q6J("ngIf",e.isImage),t.xp6(1),t.Q6J("ngIf",e.isCorelDraw),t.xp6(1),t.Q6J("ngIf",e.isPdf),t.xp6(1),t.Q6J("ngIf",e.isWord),t.xp6(1),t.Q6J("ngIf",e.isExcel),t.xp6(1),t.Q6J("ngIf",e.isIllustrator),t.xp6(2),t.Oqu(e.name)}}function Be(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"div",108)(2,"h6",30),t._uU(3,"Additional Attachments:"),t.qZA()(),t.TgZ(4,"div",90),t.YNc(5,We,15,7,"div",91),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.productAttachments)}}function $e(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t._UZ(2,"br"),t.TgZ(3,"span",109),t._uU(4),t.qZA()()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.quantity," "),t.xp6(3),t.hij(" (\xb1 ",(null==e?null:e.quantityTolerance)||0," %)")}}function Ke(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.productionleadTime," Days")}}function Ge(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function He(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function Xe(o,s){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,Ge,2,1,"span",36),t.YNc(2,He,2,0,"span",36),t._uU(3),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)==(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)!=(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",null==e?null:e.pricePerPiece,"")}}function ze(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function to(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function eo(o,s){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,ze,2,1,"span",36),t.YNc(2,to,2,0,"span",36),t._uU(3),t.qZA()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)==(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)!=(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",null==e?null:e.totalPrice,"")}}function oo(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCbm,"")}}function io(o,s){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.totalCartons,"")}}function no(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1,"Shipping Terms"),t.qZA())}function so(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Origin Port"),t.qZA())}function ro(o,s){1&o&&(t.TgZ(0,"label"),t._uU(1," Destination Port"),t.qZA())}function ao(o,s){if(1&o&&(t.TgZ(0,"div",14),t.YNc(1,no,2,0,"label",36),t.YNc(2,so,2,0,"label",36),t.YNc(3,ro,2,0,"label",36),t._UZ(4,"input",54),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","DDU"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)||"DDP"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","FOB"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.Q6J("ngIf","CIF"===(null==e.quoteDetail?null:e.quoteDetail.shippingTerms)),t.xp6(1),t.s9C("placeholder",null==e.quoteDetail?null:e.quoteDetail.shippingAddress)}}function lo(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function uo(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function co(o,s){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.quoteDetail||null==e.quoteDetail.vendor?null:e.quoteDetail.vendor.currency)}}function po(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"USD"),t.qZA())}function mo(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td",8),t._uU(2),t.qZA(),t.TgZ(3,"td",26),t.YNc(4,co,2,1,"span",36),t.YNc(5,po,2,0,"span",36),t._uU(6),t.qZA()()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(2),t.Oqu(null==e?null:e.name),t.xp6(2),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)==(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==n.quoteDetail||null==n.quoteDetail.vendor?null:n.quoteDetail.vendor.currency)!=(null==n.quoteDetail||null==n.quoteDetail.customer?null:n.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",null==e?null:e.cost,"")}}const go=[{path:"",component:W},{path:"detail",component:(()=>{class o{constructor(e,n,i,r){this.routes=e,this.ngxService=n,this.QS=i,this._notify=r,this.totalOneTimeCostNum=0,this.moment=d(),this.productArtworks=[],this.productAttachments=[],this.selectedImage=0}ngOnInit(){this.routes.queryParams.subscribe(e=>{e&&e.quoteId&&(this.quoteId=e.quoteId,this.getDetail()),e&&e.leadId&&(this.quoteId=e.leadId,this.quoteDraft())}),$("#carouselExampleControls").on("slide.bs.carousel",e=>{this.selectedImage=e.to})}getDetail(){this.ngxService.start(),this.QS.quoteDetail(this.quoteId).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.quoteDetail=e?.data,this.quoteDetail?.customerProduct?.productArtworks.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productArtworks.push({url:n,name:i[i.length-1],...r})}),this.quoteDetail?.customerProduct?.productAttachments.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productAttachments.push({url:n,name:i[i.length-1],...r})})):this._notify.showError(e.meta.msg,"Error")})}quoteDraft(){this.ngxService.start(),this.QS.quoteDraft(this.quoteId).pipe((0,c.x)(()=>{this.ngxService.stop()})).subscribe(e=>{e.meta.status?(this.quoteDetail=e?.data,this.quoteDetail?.customerProduct?.productArtworks.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productArtworks.push({url:n,name:i[i.length-1],...r})}),this.quoteDetail?.customerProduct?.productAttachments.map(n=>{let i=n.split("/"),r=this.getFileType(i[i.length-1]);delete r.type,this.productAttachments.push({url:n,name:i[i.length-1],...r})})):this._notify.showError(e.meta.msg,"Error")})}downloadImage(e){return(0,Q.Z)(function*(){const i=yield(yield fetch(`${e}?pactap=1`)).blob(),r=e.substring(e.lastIndexOf("/")+1),a=document.createElement("a"),p=window.URL.createObjectURL(i);a.href=p,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e)})()}getFileType(e){const n=e.lastIndexOf(".");if(-1===n)return"File name has no extension";switch(e.substring(n+1).toLowerCase()){case"jpg":case"jpeg":case"png":return{type:"Image file",isImage:!0};case"pdf":return{type:"PDF file",isPdf:!0};case"doc":case"docx":return{type:"Word document",isWord:!0};case"txt":return{type:"Text file",isText:!0};case"ai":return{type:"Adobe Illustrator file",isIllustrator:!0};case"cdr":return{type:"CorelDRAW file",isCorelDraw:!0};case"xls":return{type:"Excel spreadsheet",isExcel:!0};case"csv":return{type:"CSV file",isExcel:!0};default:return"Unknown file type"}}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(h.gz),t.Y36(_.LA),t.Y36(q.P),t.Y36(v.c))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-quotaion-details"]],decls:193,vars:40,consts:[["id","print-section",1,"dashboardMain"],[1,"bg-white","white-well"],[1,"row"],[1,"col-7","col-sm-6","col-md-6","col-lg-7"],[1,"page-header","back-page","border-0","mb-2"],[1,"mb-0","ps-5"],["href","javascript:history.back()",1,"back-arrow"],["src","assets/images/back-arrow.png"],[1,"text-success"],[1,"profile-info"],[1,"col-5","col-sm-6","col-md-6","col-lg-5","text-end","printPageButton"],[1,"column-btns","d-grid","align-items-center","justify-content-end"],["class","form-box form-filter",4,"ngIf"],[1,"dropdown","form-box","form-filter"],[1,"form-group"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-submit","btn-outline-success",3,"useExistingCss"],["src","assets/images/download.png","alt","",1,"me-2"],[1,"col-12","col-sm-4","col-md-4","col-lg-4"],[1,"quotations-script","bg-success-light"],[1,"mb-0","text-white"],[1,"product-item","p-0","quotations-product-item","mb-0"],[1,"col-12","col-sm-7","col-md-8","col-lg-8","col-xl-8"],[1,"productDetailsPage"],[1,""],[1,"table-reponsive"],[1,"tableBorder"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"col-12","col-sm-5","col-md-4","col-lg-4","col-xl-4"],[1,"product-body"],[1,"mb-2"],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide","mb-3"],["class","carousel-inner",4,"ngIf"],["class","carousel-control-prev printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",4,"ngIf"],["class","carousel-control-next printPageButton","type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",4,"ngIf"],["href","javascript:void(0)","class","downloadButton printPageButton",3,"click",4,"ngIf"],[4,"ngIf"],[1,"text-success","d-sm-inline-block","ms-3"],[1,"table-card"],[1,"table","table-bordered","table-lg"],[1,"table-success","text-white"],["class","text-center",4,"ngFor","ngForOf"],[1,"table-info"],[1,"col-12","col-sm-12","col-md-12","col-lg-12"],[1,"form-box"],[1,"formflex","justify-content-between"],[1,"col-md-12","col-12","d-flex","justify-content-start","gap-4","align-items-start"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"value"],[1,"col-md-6","col-12"],[1,"d-inline-block"],[1,"text-success","fw300"],[1,"col-md-4","col-4"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder","text-center",3,"placeholder"],[1,"col-md-3","col-4"],["type","text","readonly","",1,"form-control","form-ctrl","greenborder",3,"placeholder"],[1,"col-md-12","col-12","d-flex","justify-content-start","gap-4"],[1,"row","w-100"],[1,"col-md-2","col-12"],[1,"calendarInput"],["type","text","readonly","",1,"form-control","form-ctrl","datePicker","greenborder",3,"value"],[1,"formIconsinner"],[1,"bi","bi-calendar-week"],["class","form-group",4,"ngIf"],[1,"col-12","col-sm-5","col-md-5","col-lg-5"],[1,"col-12","col-sm-7","col-md-7","col-lg-7"],["fgsColor","#3E916C",3,"hasProgressBar"],[1,"form-box","form-filter"],["href","javascript:void(0)",1,"btn","btn-sumbit","btn-outline-success",3,"routerLink"],["class","text-center",4,"ngIf"],[1,"d-flex","justify-content-between"],["for","lowerLimit",1,"mb-2"],[1,"inputPercentage"],["style","bottom: 0px;",4,"ngIf"],["for","upperLimit",1,"mb-2"],[2,"bottom","0px"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"carousel-item",3,"ngClass"],["alt","...",1,"d-block","w-100",3,"src"],[1,"carousel-item","active"],["src","assets/images/no-img.png","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev","printPageButton"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next","printPageButton"],["aria-hidden","true",1,"carousel-control-next-icon"],["href","javascript:void(0)",1,"downloadButton","printPageButton",3,"click"],[1,"bi","bi-box-arrow-in-down"],[1,"product-body","printPageButton"],[1,"mb-2","mt-4"],[1,"form-group","printPageButton"],["class","form-check-inline text-center",4,"ngFor","ngForOf"],[1,"form-check-inline","text-center"],[1,"alert-photo"],[1,"alert-photo-img"],[3,"src","alt",4,"ngIf"],["src","assets/images/cdr.png",3,"alt",4,"ngIf"],["src","assets/images/pdf.png",3,"alt",4,"ngIf"],["src","assets/images/excel.png",3,"alt",4,"ngIf"],["src","assets/images/xls.png",3,"alt",4,"ngIf"],["src","assets/images/illustrator.png",3,"alt",4,"ngIf"],["href","javascript:void(0)",1,"downloadButton",3,"click"],[3,"src","alt"],["src","assets/images/cdr.png",3,"alt"],["src","assets/images/pdf.png",3,"alt"],["src","assets/images/excel.png",3,"alt"],["src","assets/images/xls.png",3,"alt"],["src","assets/images/illustrator.png",3,"alt"],[1,"product-body","mt-4","printPageButton"],[1,"small"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"a",6),t._UZ(7,"img",7),t.qZA(),t._uU(8," Quote "),t.TgZ(9,"span",8),t._uU(10),t.qZA()()(),t.TgZ(11,"div",9)(12,"h6",8),t._uU(13),t.qZA(),t.TgZ(14,"h6",8),t._uU(15),t.qZA(),t.TgZ(16,"h6",8),t._uU(17),t.qZA(),t.TgZ(18,"h6",8),t._uU(19),t.qZA()()(),t.TgZ(20,"div",10)(21,"div",11),t.YNc(22,ve,4,3,"div",12),t.TgZ(23,"div",13)(24,"div",14)(25,"button",15),t._UZ(26,"img",16),t._uU(27," Export as PDF "),t.qZA()()()()()()(),t.TgZ(28,"div",1)(29,"div",2)(30,"div",17)(31,"div",18)(32,"h4",19),t._uU(33,"Product Details"),t.qZA()()()(),t.TgZ(34,"div",20)(35,"div",2)(36,"div",21)(37,"div",22)(38,"div",23)(39,"div",24)(40,"div",25)(41,"table",23)(42,"thead")(43,"tr",23)(44,"th"),t._uU(45,"Details"),t.qZA(),t.TgZ(46,"th",26),t._uU(47,"Measurements"),t.qZA(),t.TgZ(48,"th",26),t._uU(49,"Tolerances"),t.qZA()()(),t.TgZ(50,"tbody"),t.YNc(51,De,7,4,"tr",27),t.qZA()()()()()()(),t.TgZ(52,"div",28)(53,"div",29)(54,"h6",30),t._uU(55,"Product Images:"),t.qZA()(),t.TgZ(56,"div")(57,"div",31),t.YNc(58,Ae,2,1,"div",32),t.YNc(59,Pe,3,0,"div",32),t.YNc(60,Qe,4,0,"button",33),t.YNc(61,we,4,0,"button",34),t.qZA(),t.YNc(62,Ue,3,0,"a",35),t.qZA(),t.YNc(63,Oe,6,1,"ng-container",36),t.YNc(64,Be,6,1,"ng-container",36),t.qZA()()()(),t.TgZ(65,"div",1)(66,"div",18)(67,"h4",19),t._uU(68,"Quotations"),t.qZA()(),t.TgZ(69,"p",37),t._uU(70),t.qZA(),t.TgZ(71,"div",38)(72,"div",24)(73,"table",39)(74,"thead")(75,"tr",40)(76,"td"),t._uU(77,"Quantity"),t.qZA(),t.YNc(78,$e,5,2,"td",41),t.qZA()(),t.TgZ(79,"tbody")(80,"tr")(81,"td",8),t._uU(82,"Prod. Lead Time (In Days):"),t.qZA(),t.YNc(83,Ke,2,1,"td",41),t.qZA(),t.TgZ(84,"tr")(85,"td",8),t._uU(86,"Price Per Piece:"),t.qZA(),t.YNc(87,Xe,4,3,"td",41),t.qZA(),t.TgZ(88,"tr",42)(89,"td",8),t._uU(90,"Grand Total Price:"),t.qZA(),t.YNc(91,eo,4,3,"td",41),t.qZA(),t.TgZ(92,"tr")(93,"td",8),t._uU(94,"Total CBM:"),t.qZA(),t.YNc(95,oo,2,1,"td",41),t.qZA(),t.TgZ(96,"tr")(97,"td",8),t._uU(98,"Total Cartons:"),t.qZA(),t.YNc(99,io,2,1,"td",41),t.qZA()()()()()(),t.TgZ(100,"div",2)(101,"div",43)(102,"div",1)(103,"div",18)(104,"h4",19),t._uU(105,"Packaging Details"),t.qZA()(),t.TgZ(106,"div",44)(107,"div",45)(108,"div",2)(109,"div",46)(110,"div",14)(111,"label"),t._uU(112,"Case Pack"),t.qZA(),t._UZ(113,"input",47),t.qZA(),t.TgZ(114,"div",14)(115,"div",2)(116,"div",48)(117,"div",2)(118,"label",49),t._uU(119,"Carton Dimensions "),t.TgZ(120,"span",50),t._uU(121,"(in Inches)"),t.qZA()(),t.TgZ(122,"div",51),t._UZ(123,"input",52),t.qZA(),t.TgZ(124,"div",51),t._UZ(125,"input",52),t.qZA(),t.TgZ(126,"div",51),t._UZ(127,"input",52),t.qZA()()(),t.TgZ(128,"div",53)(129,"div",14)(130,"label"),t._uU(131,"Gross Weight "),t.TgZ(132,"span",50),t._uU(133,"(per case in kg)"),t.qZA()(),t._UZ(134,"input",54),t.qZA()()()()(),t.TgZ(135,"div",55)(136,"div",56)(137,"div",57)(138,"div",14)(139,"label"),t._uU(140,"Valid Upto"),t.qZA(),t.TgZ(141,"div",58),t._UZ(142,"input",59),t.ALo(143,"date"),t.TgZ(144,"span",60),t._UZ(145,"i",61),t.qZA()()()(),t.TgZ(146,"div",48),t.YNc(147,ao,5,4,"div",62),t.qZA()()()()()()()()(),t.TgZ(148,"div",2)(149,"div",63)(150,"div",1)(151,"div",18)(152,"h4",19),t._uU(153,"Pre Production Sample"),t.qZA()(),t.TgZ(154,"div",38)(155,"div",24)(156,"table",39)(157,"thead")(158,"tr",40)(159,"td"),t._uU(160,"PPS Quantity"),t.qZA(),t.TgZ(161,"td",26),t._uU(162),t.qZA()()(),t.TgZ(163,"tbody")(164,"tr")(165,"td",8),t._uU(166,"Prod. Lead Time (In Days):"),t.qZA(),t.TgZ(167,"td",26),t._uU(168),t.qZA()(),t.TgZ(169,"tr")(170,"td",8),t._uU(171,"Grand Total Price:"),t.qZA(),t.TgZ(172,"td",26),t.YNc(173,lo,2,1,"span",36),t.YNc(174,uo,2,0,"span",36),t._uU(175),t.qZA()()()()()()()(),t.TgZ(176,"div",64)(177,"div",1)(178,"div",18)(179,"h4",19),t._uU(180,"One Time Cost"),t.qZA()(),t.TgZ(181,"div",38)(182,"div",24)(183,"table",39)(184,"thead")(185,"tr",40)(186,"td"),t._uU(187,"One Time Cost"),t.qZA(),t.TgZ(188,"td",26),t._uU(189,"Cost"),t.qZA()()(),t.TgZ(190,"tbody"),t.YNc(191,mo,7,4,"tr",27),t.qZA()()()()()()()(),t._UZ(192,"ngx-ui-loader",65)),2&n&&(t.xp6(10),t.hij("(",null==i.quoteDetail||null==i.quoteDetail.product?null:i.quoteDetail.product.productName,")"),t.xp6(3),t.hij("Product ID : ",null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.customerProductId,""),t.xp6(2),t.AsE("Customer ID : ",null==i.quoteDetail||null==i.quoteDetail.customerLogin?null:i.quoteDetail.customerLogin.customerId," (",null==i.quoteDetail||null==i.quoteDetail.customer||null==i.quoteDetail.customer.countryObj?null:i.quoteDetail.customer.countryObj.name,")"),t.xp6(2),t.AsE(" Vendor ID : ",null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.vendorId,"(",null==i.quoteDetail||null==i.quoteDetail.factory?null:i.quoteDetail.factory.cityName,") "),t.xp6(2),t.hij(" Quote ID : ",null==i.quoteDetail?null:i.quoteDetail.quoteId,""),t.xp6(3),t.Q6J("ngIf",(null==i.quoteDetail?null:i.quoteDetail.isRequote)&&(null==i.quoteDetail?null:i.quoteDetail.previousQuoteId)),t.xp6(3),t.Q6J("useExistingCss",!0),t.xp6(26),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.productTolerance),t.xp6(7),t.Q6J("ngIf",0!=(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",0==(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)>1),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)>1),t.xp6(1),t.Q6J("ngIf",0!=(null==i.quoteDetail||null==i.quoteDetail.customerProducts?null:i.quoteDetail.customerProducts.productImages.length)),t.xp6(1),t.Q6J("ngIf",i.productArtworks.length),t.xp6(1),t.Q6J("ngIf",i.productAttachments.length),t.xp6(6),t.hij("* The Prices quoted are ",null==i.quoteDetail?null:i.quoteDetail.shippingTerms,""),t.xp6(8),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(5),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(4),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.quotation),t.xp6(14),t.s9C("value",null==i.quoteDetail?null:i.quoteDetail.casePack),t.xp6(10),t.MGl("placeholder","L: ",null==i.quoteDetail?null:i.quoteDetail.dimension.length,""),t.xp6(2),t.MGl("placeholder","B: ",null==i.quoteDetail?null:i.quoteDetail.dimension.breadth,""),t.xp6(2),t.MGl("placeholder","H: ",null==i.quoteDetail?null:i.quoteDetail.dimension.height,""),t.xp6(7),t.MGl("placeholder","",null==i.quoteDetail?null:i.quoteDetail.grossWeight," Kg"),t.xp6(8),t.s9C("value",t.lcZ(143,38,null==i.quoteDetail?null:i.quoteDetail.validUpto)),t.xp6(5),t.Q6J("ngIf","Ex-Factory"!==(null==i.quoteDetail?null:i.quoteDetail.shippingTerms)),t.xp6(15),t.Oqu((null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleQuantity)||"--"),t.xp6(6),t.hij("",(null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleProductionLeadTime)||"--"," Days "),t.xp6(5),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.currency)==(null==i.quoteDetail||null==i.quoteDetail.customer?null:i.quoteDetail.customer.currency)),t.xp6(1),t.Q6J("ngIf",(null==i.quoteDetail||null==i.quoteDetail.vendor?null:i.quoteDetail.vendor.currency)!=(null==i.quoteDetail||null==i.quoteDetail.customer?null:i.quoteDetail.customer.currency)),t.xp6(1),t.hij(" ",(null==i.quoteDetail?null:i.quoteDetail.prePurchaseSampleTotalPrice)||"--",""),t.xp6(16),t.Q6J("ngForOf",null==i.quoteDetail?null:i.quoteDetail.oneTimeCost),t.xp6(1),t.Q6J("hasProgressBar",!1))},dependencies:[_.Eo,h.rH,m.mk,m.sg,m.O5,C.IH,m.uU],styles:["@media print{.printPageButton[_ngcontent-%COMP%]{display:none}}.column-btns[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px #0000000d;color:#fff;padding:10px 20px;font-size:14px}"]})}return o})()},{path:"re-quote/:id",component:fe}];let ho=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(go),h.Bz]})}return o})(),_o=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[_.Js,ho,m.ez,l.UX,l.u5,C.K8,y.Rq]})}return o})()}}]);
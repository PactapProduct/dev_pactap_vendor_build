"use strict";(self.webpackChunkpactap_vendor=self.webpackChunkpactap_vendor||[]).push([[125],{45125:(F,g,a)=>{a.r(g),a.d(g,{DashboardModule:()=>k});var s=a(96814),d=a(72253),t=a(99468),l=a(6530),u=a(45516),Z=a(69862);let m=(()=>{class e{constructor(n){this.http=n}getOrderList(n){return this.http.get(`${u.N.apiUrl}order/list?status=${n}`)}getPendingOrderList(n){return this.http.get(`${u.N.apiUrl}order/list?status=${n}&actionRequired=true`)}getShipmentList(){return this.http.get(`${u.N.apiUrl}shipment/list-all`)}static#t=this.\u0275fac=function(i){return new(i||e)(t.LFG(Z.eN))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var c=a(29917);function T(e,o){if(1&e&&(t.TgZ(0,"a",35),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass","MASS_ACCEPTED"===n.v_state||"PENDING"!==n.c_state&&"ACCEPTED"!==n.c_state||"PENDING"!==n.a_state&&"PPS_ACCEPTED"!==n.a_state?"btn-darkblue":"btn-warning"),t.xp6(1),t.hij(" ",n.newStatus," ")}}function h(e,o){if(1&e&&(t.TgZ(0,"a",35),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("ngClass","ACCEPTED"!==n.v_state&&"MASS_ACCEPTED"!==n.v_state||"ACCEPTED"!==n.c_state&&"PENDING"!==n.c_state||"PENDING"!==n.a_state?"btn-warning":"btn-darkblue"),t.xp6(1),t.hij(" ",n.newStatus," ")}}function v(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"You have requested change in Lead Time in one or more products in the order."),t.qZA())}function f(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.customer.companyName," ")}}function U(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("You have approved mass production on ",t.lcZ(2,1,n.vendorMassApproveDate),"")}}function x(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE(" ",n.customer.companyName," (ID: ",null==n.customer?null:n.customer.customerId,") needs to give final approval for Mass Production")}}const _=function(e){return["/orders/pending-order-details",e]};function A(e,o){if(1&e&&(t.TgZ(0,"div",28)(1,"div",29)(2,"p")(3,"strong"),t._uU(4,"Order ID: "),t.TgZ(5,"a",30),t._uU(6),t.qZA()()(),t.TgZ(7,"p",31)(8,"strong"),t._uU(9,"Status: "),t.YNc(10,T,2,2,"a",32),t.YNc(11,h,2,2,"a",32),t.qZA()(),t.TgZ(12,"p")(13,"strong"),t._uU(14,"No of Products: "),t.TgZ(15,"span"),t._uU(16),t.qZA()()(),t.TgZ(17,"div",33)(18,"div",34),t.YNc(19,v,2,0,"p",4),t.TgZ(20,"p"),t.YNc(21,f,2,1,"ng-container",4),t._uU(22),t._UZ(23,"br"),t._uU(24),t.qZA()()(),t.YNc(25,U,3,3,"p",4),t.YNc(26,x,2,2,"p",4),t.qZA()()),2&e){const n=o.$implicit;t.Q6J("routerLink",t.VKq(12,_,n._id)),t.xp6(5),t.Q6J("routerLink",t.VKq(14,_,n._id)),t.xp6(1),t.Oqu(n.orderId),t.xp6(4),t.Q6J("ngIf",n.isPpsProducts),t.xp6(1),t.Q6J("ngIf",!n.isPpsProducts),t.xp6(5),t.Oqu(n.totalProducts),t.xp6(3),t.Q6J("ngIf",n.isProductionLeadTimeChanged),t.xp6(2),t.Q6J("ngIf",null==n||null==n.vendor?null:n.vendor.inviteBy),t.xp6(1),t.hij(" (ID:",null==n.customer||null==n.customer.customerLogin?null:n.customer.customerLogin.customerId,") "),t.xp6(2),t.hij(" has placed an order on your quoted Lead Time of ",n.totalOrderLeadTime," days"),t.xp6(1),t.Q6J("ngIf","MASS_ACCEPTED"===n.v_state),t.xp6(1),t.Q6J("ngIf","MASS_ACCEPTED"===n.v_state&&"MASS_ACCEPTED"!==n.c_state)}}function b(e,o){if(1&e&&(t.ynx(0),t.YNc(1,A,27,16,"div",27),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.pendingOrders)}}function D(e,o){1&e&&(t.TgZ(0,"div",36),t._uU(1,"No Data Found."),t.qZA())}function O(e,o){1&e&&(t.ynx(0),t._uU(1," PRODUCTION NOT STARTED "),t.BQk())}function P(e,o){1&e&&(t.ynx(0),t._uU(1," IN PRODUCTION "),t.BQk())}function q(e,o){1&e&&(t.ynx(0),t._uU(1," PRODUCTION ENDED "),t.BQk())}function C(e,o){1&e&&(t.ynx(0),t._uU(1,"ON TIME"),t.BQk())}function N(e,o){1&e&&(t.ynx(0),t._uU(1,"DELAYED"),t.BQk())}function S(e,o){if(1&e&&(t.TgZ(0,"div",42)(1,"p",43)(2,"span"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA(),t.TgZ(6,"span",44),t.YNc(7,O,2,0,"ng-container",4),t.YNc(8,P,2,0,"ng-container",4),t.YNc(9,q,2,0,"ng-container",4),t.TgZ(10,"span",45),t.YNc(11,C,2,0,"ng-container",4),t.YNc(12,N,2,0,"ng-container",4),t.qZA()()()()),2&e){const n=t.oxw().$implicit;t.xp6(3),t.hij(" ",null==n||null==n.customerProduct?null:n.customerProduct.productTitle,""),t.xp6(2),t.hij("ID: ",null==n||null==n.vendorProduct?null:n.vendorProduct.vendorProductId,""),t.xp6(2),t.Q6J("ngIf",!n.productionStartActualDate&&!n.productionEndActualDate),t.xp6(1),t.Q6J("ngIf",n.productionStartActualDate&&!n.productionEndActualDate),t.xp6(1),t.Q6J("ngIf",n.productionStartActualDate&&n.productionEndActualDate),t.xp6(2),t.Q6J("ngIf",n.productionDelayDays<=0),t.xp6(1),t.Q6J("ngIf",n.productionDelayDays>0)}}function I(e,o){if(1&e&&(t.ynx(0),t.YNc(1,S,13,7,"div",41),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",!n.isPps)}}const p=function(e){return["/orders/ongoing-order-details",e]};function y(e,o){if(1&e&&(t.TgZ(0,"div",38)(1,"div",29)(2,"p")(3,"strong"),t._uU(4,"Order ID: "),t.TgZ(5,"a",30),t._uU(6),t.qZA()()(),t.TgZ(7,"p")(8,"strong"),t._uU(9,"No of Products: "),t.TgZ(10,"a",39),t._uU(11),t.qZA()()(),t.YNc(12,I,2,1,"ng-container",40),t.qZA()()),2&e){const n=o.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(4,p,n._id)),t.xp6(1),t.Oqu(n.orderId),t.xp6(5),t.Oqu(n.totalProducts),t.xp6(1),t.Q6J("ngForOf",n.vendorProducts)}}function E(e,o){if(1&e&&(t.ynx(0),t.YNc(1,y,13,6,"div",37),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.ongoingOrders)}}function Q(e,o){1&e&&(t.TgZ(0,"div",36),t._uU(1,"No Data Found."),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"div",42)(1,"p",43)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span")(5,"strong",47),t._uU(6," Quantity "),t._UZ(7,"br"),t.TgZ(8,"a",48),t._uU(9),t.qZA()()()()()),2&e){const n=o.$implicit;t.xp6(3),t.hij("",n.productName," "),t.xp6(6),t.Oqu(n.dispatchQuantity)}}function L(e,o){if(1&e&&(t.TgZ(0,"div",38)(1,"div",29)(2,"p")(3,"strong"),t._uU(4,"Order ID: "),t.TgZ(5,"a",30),t._uU(6),t.qZA()()(),t.TgZ(7,"p")(8,"strong"),t._uU(9,"No of Products in shipment: "),t.TgZ(10,"a",39),t._uU(11),t.qZA()()(),t.TgZ(12,"p")(13,"strong"),t._uU(14,"Dispatched On: "),t.TgZ(15,"a",39),t._uU(16),t.ALo(17,"date"),t.qZA()()(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Shipment Number: "),t.TgZ(21,"a",39),t._uU(22),t.qZA()()(),t.TgZ(23,"p")(24,"strong"),t._uU(25,"Logistics Lead Time:: "),t.TgZ(26,"span"),t._uU(27),t.qZA()()(),t.YNc(28,J,10,2,"div",46),t.qZA()()),2&e){const n=o.$implicit;t.xp6(5),t.Q6J("routerLink",t.VKq(9,p,n.orderId)),t.xp6(1),t.Oqu(null==n||null==n.order?null:n.order.orderId),t.xp6(5),t.Oqu(n.totalProducts),t.xp6(5),t.hij(" ",t.lcZ(17,7,n.dispatchDate),""),t.xp6(6),t.hij(" ",n.shipmentNumber,""),t.xp6(5),t.hij(" ",n.logisticLeadTime," Days"),t.xp6(1),t.Q6J("ngForOf",n.products)}}function B(e,o){if(1&e&&(t.ynx(0),t.YNc(1,L,29,11,"div",37),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.shipmentsOrders)}}function Y(e,o){1&e&&(t.TgZ(0,"div",36),t._uU(1,"No Data Found."),t.qZA())}const j=[{path:"",component:(()=>{class e{constructor(n,i,r){this._US=n,this._DS=i,this.ngxService=r,this.pendingOrders=[],this.ongoingOrders=[],this.shipmentsOrders=[]}ngOnInit(){this._US.getUser().subscribe(n=>{this.user=n&&n.token?n:void 0}),this.getPendingOrderList(),this.getOngoingOrderList(),this.getShipmentList()}ngAfterViewInit(){setTimeout(()=>{this.user&&"ACTIVE"!==this.user.status&&$("#dashboardModal").modal("show")},200)}getPendingOrderList(){this.ngxService.start(),this._DS.getPendingOrderList("PENDING").subscribe(n=>{this.ngxService.stop(),n.meta.status&&(this.pendingOrders=n.data.filter(i=>"MASS_ACCEPTED"!==i.v_state),this.pendingOrders.map(i=>{i.newStatus="",i.newStatus="PENDING"===i.v_state?"Order Acceptance Pending":"ACCEPTED"!==i.c_state||"PENDING"!==i.a_state&&"PPS_ACCEPTED"!==i.a_state||!i.isPpsProducts?"Mass Approval Pending":"PPS Approval Pending"}))},n=>{this.ngxService.stop()})}getOngoingOrderList(){this.ngxService.start(),this._DS.getOrderList("ONGOING").subscribe(n=>{if(this.ngxService.stop(),n.meta.status){let i=JSON.parse(JSON.stringify(n.data));this.ongoingOrders=i}},n=>{this.ngxService.stop()})}getShipmentList(){this.ngxService.start(),this._DS.getShipmentList().subscribe(n=>{this.ngxService.stop(),n.meta.status&&(this.shipmentsOrders=n.data)},n=>{this.ngxService.stop()})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(l.K),t.Y36(m),t.Y36(c.LA))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:205,vars:10,consts:[[1,"dashboardMain","dashboardMainNew"],[1,"newDashboard"],[1,"dashboardTitleBox","blueBg"],[1,"userWhiteBox"],[4,"ngIf"],["style","text-align: center; padding: 50px;",4,"ngIf"],[1,"dashboardTitleBox","lightgreenBg"],[1,"dashboardTitleBox","darkGreenBg"],[1,"dashboardPopup"],["id","updateProduction",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-body"],[1,"model-header","d-flex","justify-content-between","mb-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"dashboardPopupBox"],["href","#"],[1,"yellowBgBox"],[1,"table","table-responsive","form-box"],[1,"form-group"],[1,"form-ctrl","form-control"],["type","text","placeholder","",1,"form-ctrl","form-control"],["src","assets/images/popup-date-icon.png","alt",""],[1,"main_btn","text-center","mt-5"],["type","submit",1,"btn","btn-block","btn-sumbit","btn-lg","btn-success"],["id","updateDelivery",1,"modal","fade"],["fgsColor","#3E916C",3,"hasProgressBar"],["class","media-dashboard",3,"routerLink",4,"ngFor","ngForOf"],[1,"media-dashboard",3,"routerLink"],[1,"pendingBox"],["href","javascript:void(0)",3,"routerLink"],[1,"d-flex","justify-content-between","statusP"],["class","btn btn-sm","href","javascript:void(0)",3,"ngClass",4,"ngIf"],[1,"textPrah"],[1,"grayBox",2,"display","block"],["href","javascript:void(0)",1,"btn","btn-sm",3,"ngClass"],[2,"text-align","center","padding","50px"],["class","media-dashboard",4,"ngFor","ngForOf"],[1,"media-dashboard"],["href","javascript:void(0)"],[4,"ngFor","ngForOf"],["class","greyBox2 mb-2",4,"ngIf"],[1,"greyBox2","mb-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"alert-warning","alert-warning-small","text-center"],[1,"bg-success","text-white"],["class","greyBox2 mb-2",4,"ngFor","ngForOf"],[1,"fw400","statusP"],["href","javascript:void(0)",1,"btn","btn-primary","btn-sm",2,"border-radius","inherit"]],template:function(i,r){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"h1",2),t._uU(4),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,b,2,1,"ng-container",4),t.YNc(7,D,2,0,"div",5),t.qZA()(),t.TgZ(8,"div",1)(9,"h1",6),t._uU(10),t.qZA(),t.TgZ(11,"div",3),t.YNc(12,E,2,1,"ng-container",4),t.YNc(13,Q,2,0,"div",5),t.qZA()(),t.TgZ(14,"div",1)(15,"h1",7),t._uU(16),t.qZA(),t.TgZ(17,"div",3),t.YNc(18,B,2,1,"ng-container",4),t.YNc(19,Y,2,0,"div",5),t.qZA()()()(),t.TgZ(20,"div",8)(21,"div",9)(22,"div",10)(23,"div",11)(24,"div",12)(25,"div",13)(26,"h2"),t._uU(27,"Update Production Status"),t.qZA(),t._UZ(28,"button",14),t.qZA(),t.TgZ(29,"div",15)(30,"ul")(31,"li"),t._uU(32,"Order ID: "),t.TgZ(33,"a",16),t._uU(34,"126733 "),t.qZA()(),t.TgZ(35,"li"),t._uU(36,"Production Started: "),t.TgZ(37,"span"),t._uU(38," 23/07/2023 "),t.qZA()(),t.TgZ(39,"li"),t._uU(40,"Lead Time: "),t.TgZ(41,"span"),t._uU(42," 30 Days"),t.qZA()(),t.TgZ(43,"li"),t._uU(44,"Current Status: "),t.TgZ(45,"span",17),t._uU(46,"3 of 3 Products IN PRODUCTION "),t.TgZ(47,"b"),t._uU(48,"On Time"),t.qZA()()()(),t.TgZ(49,"div",18)(50,"table")(51,"tr")(52,"th"),t._uU(53,"Product "),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Status "),t.qZA(),t.TgZ(56,"th"),t._uU(57,"Expected by "),t.qZA()(),t.TgZ(58,"tr")(59,"td"),t._uU(60,"Sample Product "),t.TgZ(61,"span"),t._uU(62,"126733"),t.qZA()(),t.TgZ(63,"td")(64,"div",19)(65,"select",20)(66,"option"),t._uU(67," On Time"),t.qZA(),t.TgZ(68,"option"),t._uU(69," On Time"),t.qZA()()()(),t.TgZ(70,"td")(71,"div",19),t._UZ(72,"input",21),t.TgZ(73,"a",16),t._UZ(74,"img",22),t.qZA()()()(),t.TgZ(75,"tr")(76,"td"),t._uU(77,"Sample Product "),t.TgZ(78,"span"),t._uU(79,"126733"),t.qZA()(),t.TgZ(80,"td")(81,"div",19)(82,"select",20)(83,"option"),t._uU(84," On Time"),t.qZA(),t.TgZ(85,"option"),t._uU(86," On Time"),t.qZA()()()(),t.TgZ(87,"td")(88,"div",19),t._UZ(89,"input",21),t.TgZ(90,"a",16),t._UZ(91,"img",22),t.qZA()()()(),t.TgZ(92,"tr")(93,"td"),t._uU(94,"Sample Product "),t.TgZ(95,"span"),t._uU(96,"126733"),t.qZA()(),t.TgZ(97,"td")(98,"div",19)(99,"select",20)(100,"option"),t._uU(101," On Time"),t.qZA(),t.TgZ(102,"option"),t._uU(103," On Time"),t.qZA()()()(),t.TgZ(104,"td")(105,"div",19),t._UZ(106,"input",21),t.TgZ(107,"a",16),t._UZ(108,"img",22),t.qZA()()()()(),t.TgZ(109,"div",23)(110,"button",24),t._uU(111,"Update Production Status"),t.qZA()()()()()()()()(),t.TgZ(112,"div",8)(113,"div",25)(114,"div",10)(115,"div",11)(116,"div",12)(117,"div",13)(118,"h2"),t._uU(119,"Update Delivery Status"),t.qZA(),t._UZ(120,"button",14),t.qZA(),t.TgZ(121,"div",15)(122,"ul")(123,"li"),t._uU(124,"Order ID: "),t.TgZ(125,"a",16),t._uU(126,"126733 "),t.qZA()(),t.TgZ(127,"li"),t._uU(128,"Production Started: "),t.TgZ(129,"span"),t._uU(130," 23/07/2023 "),t.qZA()(),t.TgZ(131,"li"),t._uU(132,"Lead Time: "),t.TgZ(133,"span"),t._uU(134," 30 Days"),t.qZA()(),t.TgZ(135,"li"),t._uU(136,"Current Status: "),t.TgZ(137,"span",17),t._uU(138,"3 of 3 Products IN PRODUCTION "),t.TgZ(139,"b"),t._uU(140,"On Time"),t.qZA()()()(),t.TgZ(141,"div",18)(142,"table")(143,"tr")(144,"th"),t._uU(145,"Product "),t.qZA(),t.TgZ(146,"th"),t._uU(147,"Status "),t.qZA(),t.TgZ(148,"th"),t._uU(149,"Expected by "),t.qZA()(),t.TgZ(150,"tr")(151,"td"),t._uU(152,"Sample Product "),t.TgZ(153,"span"),t._uU(154,"126733"),t.qZA()(),t.TgZ(155,"td")(156,"div",19)(157,"select",20)(158,"option"),t._uU(159," On Time"),t.qZA(),t.TgZ(160,"option"),t._uU(161," On Time"),t.qZA()()()(),t.TgZ(162,"td")(163,"div",19),t._UZ(164,"input",21),t.TgZ(165,"a",16),t._UZ(166,"img",22),t.qZA()()()(),t.TgZ(167,"tr")(168,"td"),t._uU(169,"Sample Product "),t.TgZ(170,"span"),t._uU(171,"126733"),t.qZA()(),t.TgZ(172,"td")(173,"div",19)(174,"select",20)(175,"option"),t._uU(176," On Time"),t.qZA(),t.TgZ(177,"option"),t._uU(178," On Time"),t.qZA()()()(),t.TgZ(179,"td")(180,"div",19),t._UZ(181,"input",21),t.TgZ(182,"a",16),t._UZ(183,"img",22),t.qZA()()()(),t.TgZ(184,"tr")(185,"td"),t._uU(186,"Sample Product "),t.TgZ(187,"span"),t._uU(188,"126733"),t.qZA()(),t.TgZ(189,"td")(190,"div",19)(191,"select",20)(192,"option"),t._uU(193," On Time"),t.qZA(),t.TgZ(194,"option"),t._uU(195," On Time"),t.qZA()()()(),t.TgZ(196,"td")(197,"div",19),t._UZ(198,"input",21),t.TgZ(199,"a",16),t._UZ(200,"img",22),t.qZA()()()()(),t.TgZ(201,"div",23)(202,"button",24),t._uU(203,"Update Delivery Status"),t.qZA()()()()()()()()(),t._UZ(204,"ngx-ui-loader",26)),2&i&&(t.xp6(4),t.hij("Pending Orders (",r.pendingOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.pendingOrders.length),t.xp6(1),t.Q6J("ngIf",!r.pendingOrders.length),t.xp6(3),t.hij("Ongoing Orders (",r.ongoingOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.ongoingOrders.length),t.xp6(1),t.Q6J("ngIf",!r.ongoingOrders.length),t.xp6(3),t.hij("Shipments (",r.shipmentsOrders.length,")"),t.xp6(2),t.Q6J("ngIf",r.shipmentsOrders.length),t.xp6(1),t.Q6J("ngIf",!r.shipmentsOrders.length),t.xp6(185),t.Q6J("hasProgressBar",!1))},dependencies:[s.mk,s.sg,s.O5,d.rH,c.Eo,s.uU],styles:[".statusP[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]})}return e})()}];let w=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(j),d.Bz]})}return e})(),k=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[s.ez,w,c.Js]})}return e})()}}]);